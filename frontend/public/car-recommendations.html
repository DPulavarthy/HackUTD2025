<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Toyota Car Recommendations</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            max-width: 1600px;
            margin: 0 auto;
            padding: 40px 20px;
            background: #6b6b6b;
            min-height: 100vh;
            color: #333;
        }

        h1 {
            color: #fff;
            text-align: center;
            font-size: 3em;
            margin-bottom: 10px;
            font-weight: 600;
            letter-spacing: -0.5px;
        }

        .subtitle {
            text-align: center;
            color: #e0e0e0;
            margin-bottom: 10px;
            font-size: 1.1em;
            font-weight: 400;
        }

        .subtitle strong {
            color: #fff;
            font-weight: 600;
        }

        .instruction {
            text-align: center;
            color: #c0c0c0;
            margin-bottom: 40px;
            font-style: italic;
            font-size: 1em;
        }

        .ai-analysis {
            display: none;
            background: #fff;
            padding: 30px;
            border-radius: 12px;
            margin-bottom: 40px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border: 1px solid #e0e0e0;
        }

        .ai-analysis h2 {
            color: #333;
            margin-bottom: 15px;
            font-size: 1.5em;
            font-weight: 600;
        }

        .ai-analysis-content {
            line-height: 1.7;
            color: #555;
            white-space: pre-wrap;
            font-size: 0.95em;
        }

        .section-title {
            text-align: center;
            color: #fff;
            margin: 50px 0 30px 0;
            font-size: 2em;
            font-weight: 600;
        }

        .car-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(360px, 1fr));
            gap: 30px;
            margin-bottom: 50px;
        }

        .car-card {
            background: #fff;
            border-radius: 16px;
            padding: 0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .car-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 8px 24px rgba(0,0,0,0.25);
        }

        .car-card.selected {
            border: 3px solid #000;
            box-shadow: 0 8px 24px rgba(0,0,0,0.3);
        }

        .car-card img {
            width: 100%;
            height: 260px;
            object-fit: contain;
            background: linear-gradient(135deg, #e8e8e8 0%, #f0f0f0 100%);
        }

        .car-card > * {
            padding: 0 25px;
        }

        .car-card img {
            padding: 0;
        }

        .car-card h2 {
            color: #000;
            margin: 20px 0 10px 0;
            font-size: 1.8em;
            font-weight: 600;
            padding: 0 25px;
        }

        .car-card p {
            color: #4a5568;
            line-height: 1.6;
            margin: 6px 0;
            font-size: 1em;
            padding: 0 25px;
        }

        .car-card strong {
            color: #2d3748;
            font-weight: 600;
        }

        .car-links {
            margin: 20px 0 0 0;
            display: flex;
            flex-direction: column;
            gap: 8px;
            padding: 20px 25px;
            background: #f7fafc;
        }

        .car-card a {
            display: inline-flex;
            align-items: center;
            color: #3182ce;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.2s ease;
            z-index: 10;
            position: relative;
            font-size: 0.95em;
        }

        .car-card a:hover {
            color: #2c5aa0;
            transform: translateX(3px);
        }

        .selection-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            background: #000;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2em;
            box-shadow: 0 4px 12px rgba(0,0,0,0.4);
            animation: fadeIn 0.3s ease;
            z-index: 100;
        }

        @keyframes fadeIn {
            0% { opacity: 0; transform: scale(0.5); }
            100% { opacity: 1; transform: scale(1); }
        }

        /* Comparison Modal */
        .comparison-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(107, 107, 107, 0.95);
            z-index: 1000;
            overflow: auto;
            animation: fadeInModal 0.3s ease;
        }

        @keyframes fadeInModal {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .comparison-modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .comparison-content {
            background: #fff;
            width: 95%;
            max-width: 1800px;
            max-height: 90vh;
            overflow-y: auto;
            border-radius: 16px;
            padding: 40px;
            position: relative;
            animation: slideIn 0.3s ease;
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
        }

        @keyframes slideIn {
            from {
                transform: scale(0.95);
                opacity: 0;
            }
            to {
                transform: scale(1);
                opacity: 1;
            }
        }

        .close-btn {
            position: absolute;
            top: 20px;
            right: 25px;
            font-size: 40px;
            cursor: pointer;
            color: #718096;
            transition: all 0.2s ease;
            line-height: 1;
            z-index: 10;
            font-weight: 300;
        }

        .close-btn:hover {
            color: #2d3748;
            transform: scale(1.1);
        }

        .comparison-title {
            text-align: center;
            color: #000;
            font-size: 2em;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 2px solid #e2e8f0;
            font-weight: 600;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            margin-top: 30px;
        }

        .comparison-car {
            background: #fff;
            padding: 25px;
            border-radius: 16px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
        }

        .comparison-grid:hover .comparison-car {
            opacity: 0.5;
            transform: scale(0.92);
        }

        .comparison-grid .comparison-car:hover {
            opacity: 1 !important;
            transform: scale(1.08) !important;
            box-shadow: 0 20px 40px rgba(0,0,0,0.25);
            z-index: 100;
        }

        .comparison-car img {
            width: 100%;
            height: 280px;
            object-fit: contain;
            object-position: center;
            border-radius: 12px;
            margin-bottom: 20px;
            background: linear-gradient(135deg, #e8e8e8 0%, #f0f0f0 100%);
        }

        .comparison-car h2 {
            margin-bottom: 15px;
            color: #000;
            font-size: 1.7em;
            text-align: center;
            font-weight: 600;
        }

        .comparison-car > p {
            margin: 8px 0;
            color: #4a5568;
            text-align: center;
            font-size: 1em;
            line-height: 1.5;
        }

        .factors-section-title {
            grid-column: 1 / -1;
            text-align: center;
            color: #000;
            font-size: 1.6em;
            margin: 35px 0 25px 0;
            font-weight: 600;
            padding: 15px;
            background: #f7fafc;
            border-radius: 12px;
        }

        .factor-row {
            padding: 18px;
            margin: 10px 0;
            border-radius: 10px;
            transition: all 0.2s ease;
            border-left: 3px solid transparent;
        }

        .factor-row:hover {
            transform: translateX(3px);
            box-shadow: 0 2px 8px rgba(0,0,0,0.06);
        }

        .factor-label {
            font-weight: 600;
            margin-bottom: 8px;
            font-size: 1.05em;
            text-transform: capitalize;
            display: flex;
            align-items: center;
        }

        .factor-value {
            line-height: 1.6;
            color: #4a5568;
            font-size: 0.95em;
        }

        .good {
            background: #d4edda;
            color: #155724;
            border-left-color: #28a745;
        }

        .good .factor-label {
            color: #155724;
        }

        .neutral {
            background: #f8f9fa;
            color: #495057;
            border-left-color: #6c757d;
        }

        .poor {
            background: #f8d7da;
            color: #721c24;
            border-left-color: #dc3545;
        }

        .poor .factor-label {
            color: #721c24;
        }

        /* Legend */
        .legend {
            grid-column: 1 / -1;
            display: flex;
            justify-content: center;
            gap: 25px;
            margin: 25px 0;
            padding: 20px;
            background: #f7fafc;
            border-radius: 12px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 0.95em;
        }

        .legend-color {
            width: 24px;
            height: 24px;
            border-radius: 6px;
        }

        .legend-color.good {
            background: #d4edda;
            border: 2px solid #28a745;
        }

        .legend-color.neutral {
            background: #f8f9fa;
            border: 2px solid #6c757d;
        }

        .legend-color.poor {
            background: #f8d7da;
            border: 2px solid #dc3545;
        }

        .legend-text {
            font-weight: 500;
            color: #4a5568;
        }

        /* Financing Section Styles */
        .financing-section {
            margin-top: 40px;
            padding: 30px;
            grid-column: span 2;
            background: linear-gradient(135deg, #720101 0%, #c0c0c0 100%);
            border-radius: 20px;
            color: white;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
        }

        .financing-title {
            font-size: 2em;
            font-weight: 800;
            text-align: center;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .financing-subtitle {
            text-align: center;
            font-size: 1.1em;
            opacity: 0.9;
            margin-bottom: 30px;
        }

        .financing-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-top: 30px;
        }

        .financing-car {
            background: white;
            padding: 25px;
            border-radius: 15px;
            color: #2d3748;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
        }

        .financing-grid:hover .financing-car {
            opacity: 0.5;
            transform: scale(0.92);
        }

        .financing-grid .financing-car:hover {
            opacity: 1 !important;
            transform: scale(1.08) !important;
            box-shadow: 0 20px 40px rgba(102, 126, 234, 0.4);
            z-index: 100;
        }

        .financing-car h3 {
            font-size: 1.5em;
            font-weight: 700;
            margin-bottom: 20px;
            color: #720101;
            border-bottom: 3px solid #720101;
            padding-bottom: 10px;
        }

        .best-deal-box {
            background: linear-gradient(135deg, #ffd89b 0%, #19547b 100%);
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
        }

        .best-deal-title {
            font-size: 1.3em;
            font-weight: 800;
            color: white;
            margin-bottom: 12px;
            text-align: center;
        }

        .best-deal-item {
            background: rgba(255, 255, 255, 0.95);
            padding: 10px 15px;
            border-radius: 8px;
            margin-bottom: 8px;
            color: #2d3748;
            font-size: 0.95em;
        }

        .best-deal-item:last-child {
            margin-bottom: 0;
        }

        .dealer-name {
            color: #720101;
            font-size: 0.9em;
        }

        .dealer-card {
            background: #f7fafc;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 15px;
            border: 2px solid #e2e8f0;
            transition: all 0.3s ease;
        }

        .dealer-card:hover {
            border-color: #720101;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.2);
        }

        .dealer-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .dealer-name-main {
            font-size: 1.2em;
            font-weight: 700;
            color: #2d3748;
        }

        .dealer-distance {
            background: #720101;
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 600;
        }

        .dealer-address {
            color: #718096;
            font-size: 0.9em;
            margin-bottom: 5px;
        }

        .dealer-phone {
            color: #4a5568;
            font-size: 0.9em;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .finance-tabs {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 15px;
        }

        .finance-tab {
            background: white;
            padding: 15px;
            border-radius: 10px;
            border: 2px solid #e2e8f0;
        }

        .tab-title {
            font-weight: 700;
            color: #2d3748;
            margin-bottom: 12px;
            font-size: 1.05em;
            border-bottom: 2px solid #720101;
            padding-bottom: 5px;
        }

        .credit-tier {
            margin-bottom: 10px;
            font-size: 0.9em;
        }

        .credit-tier strong {
            display: block;
            color: #4a5568;
            margin-bottom: 4px;
        }

        .tier-details {
            color: #718096;
            padding-left: 10px;
            line-height: 1.5;
        }

        .price-note {
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px solid #e2e8f0;
            color: #718096;
            font-size: 0.85em;
        }

        .lease-tab {
            background: linear-gradient(135deg, #720101 0%, #c0c0c0 100%);
            color: white;
            border: none;
        }

        .lease-tab .tab-title {
            color: white;
            border-bottom-color: white;
        }

        .lease-highlight {
            font-size: 2em;
            font-weight: 800;
            text-align: center;
            margin: 15px 0;
        }

        .lease-details {
            text-align: center;
            font-size: 0.9em;
            opacity: 0.95;
            line-height: 1.6;
        }

        .ownership-costs {
            background: #f7fafc;
            padding: 20px;
            border-radius: 12px;
            margin-top: 15px;
            border: 2px solid #e2e8f0;
        }

        .costs-title {
            font-size: 1.2em;
            font-weight: 700;
            color: #2d3748;
            margin-bottom: 15px;
            text-align: center;
        }

        .cost-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }

        .cost-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 15px;
            background: white;
            border-radius: 8px;
            font-size: 0.9em;
        }

        .cost-item span {
            color: #718096;
        }

        .cost-item strong {
            color: #2d3748;
            font-weight: 700;
        }

        .cost-item.total-cost {
            grid-column: 1 / -1;
            background: linear-gradient(135deg, #720101 0%, #c0c0c0 100%);
            color: white;
            font-size: 1.1em;
            font-weight: 700;
        }

        .cost-item.total-cost span,
        .cost-item.total-cost strong {
            color: white;
        }

        /* Scrollbar styling */
        .comparison-content::-webkit-scrollbar {
            width: 10px;
        }

        .comparison-content::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }

        .comparison-content::-webkit-scrollbar-thumb {
            background: #cbd5e0;
            border-radius: 10px;
        }

        .comparison-content::-webkit-scrollbar-thumb:hover {
            background: #a0aec0;
        }

        @media (max-width: 768px) {
            .comparison-grid {
                grid-template-columns: 1fr;
            }
            
            .legend {
                flex-direction: column;
                gap: 15px;
            }
        }
    </style>
</head>
<body>
    <h1>Your Toyota Recommendations</h1>
    <p class="subtitle">
        <strong>Top 3 Matching Factors:</strong> <span id="topFactors"></span>
    </p>
    <p class="instruction">
        Click on any 2 cars to compare them side-by-side with detailed analysis
    </p>
    
    <div class="ai-analysis">
        <h2>AI Analysis</h2>
        <div class="ai-analysis-content" id="aiAnalysis"></div>
    </div>
    
    <h2 class="section-title">Recommended Vehicles</h2>
    <div class="car-grid" id="carGrid"></div>

    <!-- Comparison Modal -->
    <div class="comparison-modal" id="comparisonModal">
        <div class="comparison-content">
            <span class="close-btn" onclick="closeComparison()">&times;</span>
            <h1 class="comparison-title">Vehicle Comparison</h1>
            <div id="comparisonGrid"></div>
        </div>
    </div>

    
    <script>
        window.CARS_DATA = [{"make":"Toyota","model":"Prius","year":2016,"variant":"Gen4 Hybrid (LE FWD baseline)","drivetrain":"FWD","horsepower_hp":121,"mpg":{"city":54,"hwy":50,"combined":52},"legroom_in":{"front":43.2,"rear":33.4},"price_usd":{"msrp_from":24300,"lease_per_month":374,"lease_notes":"Educational estimate • 36 mo • MF 0.0019 • Residual 56% of MSRP • Cap cost ~ MSRP×(1-3%) + $895 acq • DAS about $2,999 (not applied as CCR) • Pre-tax • Generated 2025-11-08","full_price":24300},"buying_factors":{"reliability_longevity":"Toyota hybrid systems have a long record of durability; low maintenance needs.","safety":"Toyota Safety Sense (varying versions) with AEB/LKA/BSM available or standard; good crash performance.","total_cost_to_own":"Outstanding fuel savings.","practicality":"Flexible cargo space; compact footprint great for cities.","comfort_refinement":"Quieter than Gen3; improved ride.","tech_convenience":"Updated infotainment.","performance_handling":"Balanced steering/braking; adequate acceleration for class.","efficiency_range":"Excellent MPG and long range per tank.","warranty_support":"3/36 basic, 5/60 powertrain; hybrid battery 8/100 typical; wide dealer network.","resale_value":"Historically strong resale, especially for Toyota staples.","style_vibe":"Futuristic eco styling.","fit_for_climate_roads":"FWD suits most climates; winter tires advised for snow."},"id":8,"links":{"manufacturer":"https://www.toyota.com/prius","epa":"https://www.fueleconomy.gov/feg/bymodel/2016_Toyota_Prius.shtml","iihs":"https://www.iihs.org/ratings/toyota/prius","nhtsa":"https://www.nhtsa.gov/vehicle/2016/TOYOTA/PRIUS","edmunds":"https://www.edmunds.com/toyota/prius/2016/","kbb":"https://www.kbb.com/toyota/prius/2016/","car_and_driver":"https://www.caranddriver.com/toyota/prius-2016","us_news":"https://cars.usnews.com/cars-trucks/toyota-prius/2016","autotrader":"https://www.autotrader.com/toyota/prius/2016"},"link_usage":{"safety":["https://www.iihs.org/ratings/toyota/prius","https://www.nhtsa.gov/vehicle/2016/TOYOTA/PRIUS"],"reliability_longevity":["https://www.kbb.com/toyota/prius/2016/","https://www.edmunds.com/toyota/prius/2016/"],"total_cost_to_own":["https://www.edmunds.com/toyota/prius/2016/","https://www.kbb.com/toyota/prius/2016/","https://www.autotrader.com/toyota/prius/2016"],"practicality":["https://www.caranddriver.com/toyota/prius-2016","https://www.edmunds.com/toyota/prius/2016/","https://cars.usnews.com/cars-trucks/toyota-prius/2016"],"comfort_refinement":["https://www.caranddriver.com/toyota/prius-2016","https://www.edmunds.com/toyota/prius/2016/"],"tech_convenience":["https://www.toyota.com/prius","https://www.edmunds.com/toyota/prius/2016/"],"performance_handling":["https://www.caranddriver.com/toyota/prius-2016","https://www.edmunds.com/toyota/prius/2016/"],"efficiency_range":["https://www.fueleconomy.gov/feg/bymodel/2016_Toyota_Prius.shtml"],"warranty_support":["https://www.toyota.com/prius"],"resale_value":["https://www.kbb.com/toyota/prius/2016/","https://www.autotrader.com/toyota/prius/2016"],"style_vibe":["https://www.caranddriver.com/toyota/prius-2016","https://cars.usnews.com/cars-trucks/toyota-prius/2016"],"fit_for_climate_roads":["https://www.toyota.com/prius","https://www.caranddriver.com/toyota/prius-2016"]},"financing_75080":{"zip_code":"75080","area":"Richardson, TX","last_updated":"2025-11-09","dealerships":[{"name":"Toyota of Richardson","address":"1501 N Central Expy, Richardson, TX 75080","distance_miles":2.1,"phone":"(972) 234-5678","finance_options":{"purchase":{"price_after_incentives":23814,"down_payment":2430,"apr_tiers":{"tier_1_excellent":{"credit_score":"720+","apr":6.99,"term_months":60,"monthly_payment":423,"total_cost":27810,"total_interest":3996},"tier_2_good":{"credit_score":"680-719","apr":8.49,"term_months":60,"monthly_payment":439,"total_cost":28770,"total_interest":4956},"tier_3_fair":{"credit_score":"620-679","apr":11.99,"term_months":60,"monthly_payment":476,"total_cost":30990,"total_interest":7176}}},"lease":{"term_months":36,"monthly_payment":316,"due_at_signing":2999,"annual_mileage":12000,"excess_mileage_charge":0.2,"total_lease_cost":14375,"money_factor":0.0018,"residual_value":13122}}},{"name":"Trophy Toyota of Dallas","address":"13333 N Stemmons Fwy, Dallas, TX 75234","distance_miles":8.7,"phone":"(972) 243-9999","finance_options":{"purchase":{"price_after_incentives":23964,"down_payment":2430,"apr_tiers":{"tier_1_excellent":{"credit_score":"720+","apr":7.29,"term_months":60,"monthly_payment":429,"total_cost":28170,"total_interest":4206},"tier_2_good":{"credit_score":"680-719","apr":8.79,"term_months":60,"monthly_payment":445,"total_cost":29130,"total_interest":5166},"tier_3_fair":{"credit_score":"620-679","apr":12.29,"term_months":60,"monthly_payment":482,"total_cost":31350,"total_interest":7386}}},"lease":{"term_months":36,"monthly_payment":326,"due_at_signing":3249,"annual_mileage":12000,"excess_mileage_charge":0.2,"total_lease_cost":14985,"money_factor":0.0019,"residual_value":13122}}},{"name":"Vandergriff Toyota","address":"6201 Colleyville Blvd, Colleyville, TX 76034","distance_miles":15.3,"phone":"(817) 329-3200","finance_options":{"purchase":{"price_after_incentives":24114,"down_payment":2430,"apr_tiers":{"tier_1_excellent":{"credit_score":"720+","apr":7.59,"term_months":60,"monthly_payment":435,"total_cost":28530,"total_interest":4416},"tier_2_good":{"credit_score":"680-719","apr":9.09,"term_months":60,"monthly_payment":451,"total_cost":29490,"total_interest":5376},"tier_3_fair":{"credit_score":"620-679","apr":12.59,"term_months":60,"monthly_payment":489,"total_cost":31770,"total_interest":7656}}},"lease":{"term_months":36,"monthly_payment":336,"due_at_signing":3499,"annual_mileage":10000,"excess_mileage_charge":0.25,"total_lease_cost":15595,"money_factor":0.002,"residual_value":13122}}}],"yearly_cost_estimates":{"insurance_annual":1305,"registration_annual":199,"maintenance_annual":461,"fuel_annual_12k_miles":808,"total_annual_ownership":2773},"best_deal_summary":{"lowest_monthly_payment":{"dealership":"Toyota of Richardson","type":"lease","amount":316},"lowest_total_cost":{"dealership":"Toyota of Richardson","type":"purchase_tier_1","amount":27810},"best_apr":{"dealership":"Toyota of Richardson","rate":6.99}}}},{"make":"Toyota","model":"Prius Prime","year":2017,"variant":"Plug-in hybrid","drivetrain":"FWD","horsepower_hp":121,"mpg":{"city":55,"hwy":53,"combined":54},"legroom_in":{"front":43.2,"rear":33.4},"price_usd":{"msrp_from":27100,"lease_per_month":435,"lease_notes":"Educational estimate • 36 mo • MF 0.0019 • Residual 53% of MSRP • Cap cost ~ MSRP×(1-3%) + $895 acq • DAS about $2,999 (not applied as CCR) • Pre-tax • Generated 2025-11-08","full_price":27100},"buying_factors":{"reliability_longevity":"Toyota hybrid systems have a long record of durability; low maintenance needs.","safety":"Toyota Safety Sense (varying versions) with AEB/LKA/BSM available or standard; good crash performance.","total_cost_to_own":"EV miles reduce fuel cost; incentives available.","practicality":"Flexible cargo space; compact footprint great for cities.","comfort_refinement":"Quiet EV operation.","tech_convenience":"Charging timers; CarPlay came later.","performance_handling":"Efficient, modest power.","efficiency_range":"~25-mile EV range (2017 Prime) + hybrid.","warranty_support":"3/36 basic, 5/60 powertrain; hybrid battery 8/100 typical; wide dealer network.","resale_value":"Good in eco markets.","style_vibe":"Eco with tech twist.","fit_for_climate_roads":"FWD suits most climates; winter tires advised for snow."},"id":14,"links":{"manufacturer":"https://www.toyota.com/prius-prime","epa":"https://www.fueleconomy.gov/feg/bymodel/2017_Toyota_Prius_Prime.shtml","iihs":"https://www.iihs.org/ratings/toyota/prius-prime","nhtsa":"https://www.nhtsa.gov/vehicle/2017/TOYOTA/PRIUS%20PRIME","edmunds":"https://www.edmunds.com/toyota/prius-prime/2017/","kbb":"https://www.kbb.com/toyota/prius-prime/2017/","car_and_driver":"https://www.caranddriver.com/toyota/prius-prime-2017","us_news":"https://cars.usnews.com/cars-trucks/toyota-prius-prime/2017","autotrader":"https://www.autotrader.com/toyota/prius-prime/2017"},"link_usage":{"safety":["https://www.iihs.org/ratings/toyota/prius-prime","https://www.nhtsa.gov/vehicle/2017/TOYOTA/PRIUS%20PRIME"],"reliability_longevity":["https://www.kbb.com/toyota/prius-prime/2017/","https://www.edmunds.com/toyota/prius-prime/2017/"],"total_cost_to_own":["https://www.edmunds.com/toyota/prius-prime/2017/","https://www.kbb.com/toyota/prius-prime/2017/","https://www.autotrader.com/toyota/prius-prime/2017"],"practicality":["https://www.caranddriver.com/toyota/prius-prime-2017","https://www.edmunds.com/toyota/prius-prime/2017/","https://cars.usnews.com/cars-trucks/toyota-prius-prime/2017"],"comfort_refinement":["https://www.caranddriver.com/toyota/prius-prime-2017","https://www.edmunds.com/toyota/prius-prime/2017/"],"tech_convenience":["https://www.toyota.com/prius-prime","https://www.edmunds.com/toyota/prius-prime/2017/"],"performance_handling":["https://www.caranddriver.com/toyota/prius-prime-2017","https://www.edmunds.com/toyota/prius-prime/2017/"],"efficiency_range":["https://www.fueleconomy.gov/feg/bymodel/2017_Toyota_Prius_Prime.shtml"],"warranty_support":["https://www.toyota.com/prius-prime"],"resale_value":["https://www.kbb.com/toyota/prius-prime/2017/","https://www.autotrader.com/toyota/prius-prime/2017"],"style_vibe":["https://www.caranddriver.com/toyota/prius-prime-2017","https://cars.usnews.com/cars-trucks/toyota-prius-prime/2017"],"fit_for_climate_roads":["https://www.toyota.com/prius-prime","https://www.caranddriver.com/toyota/prius-prime-2017"]},"financing_75080":{"zip_code":"75080","area":"Richardson, TX","last_updated":"2025-11-09","dealerships":[{"name":"Toyota of Richardson","address":"1501 N Central Expy, Richardson, TX 75080","distance_miles":2.1,"phone":"(972) 234-5678","finance_options":{"purchase":{"price_after_incentives":26558,"down_payment":2710,"apr_tiers":{"tier_1_excellent":{"credit_score":"720+","apr":6.99,"term_months":60,"monthly_payment":472,"total_cost":31030,"total_interest":4472},"tier_2_good":{"credit_score":"680-719","apr":8.49,"term_months":60,"monthly_payment":489,"total_cost":32050,"total_interest":5492},"tier_3_fair":{"credit_score":"620-679","apr":11.99,"term_months":60,"monthly_payment":530,"total_cost":34510,"total_interest":7952}}},"lease":{"term_months":36,"monthly_payment":352,"due_at_signing":2999,"annual_mileage":12000,"excess_mileage_charge":0.2,"total_lease_cost":15671,"money_factor":0.0018,"residual_value":14634}}},{"name":"Trophy Toyota of Dallas","address":"13333 N Stemmons Fwy, Dallas, TX 75234","distance_miles":8.7,"phone":"(972) 243-9999","finance_options":{"purchase":{"price_after_incentives":26708,"down_payment":2710,"apr_tiers":{"tier_1_excellent":{"credit_score":"720+","apr":7.29,"term_months":60,"monthly_payment":478,"total_cost":31390,"total_interest":4682},"tier_2_good":{"credit_score":"680-719","apr":8.79,"term_months":60,"monthly_payment":496,"total_cost":32470,"total_interest":5762},"tier_3_fair":{"credit_score":"620-679","apr":12.29,"term_months":60,"monthly_payment":537,"total_cost":34930,"total_interest":8222}}},"lease":{"term_months":36,"monthly_payment":362,"due_at_signing":3249,"annual_mileage":12000,"excess_mileage_charge":0.2,"total_lease_cost":16281,"money_factor":0.0019,"residual_value":14634}}},{"name":"Vandergriff Toyota","address":"6201 Colleyville Blvd, Colleyville, TX 76034","distance_miles":15.3,"phone":"(817) 329-3200","finance_options":{"purchase":{"price_after_incentives":26858,"down_payment":2710,"apr_tiers":{"tier_1_excellent":{"credit_score":"720+","apr":7.59,"term_months":60,"monthly_payment":485,"total_cost":31810,"total_interest":4952},"tier_2_good":{"credit_score":"680-719","apr":9.09,"term_months":60,"monthly_payment":502,"total_cost":32830,"total_interest":5972},"tier_3_fair":{"credit_score":"620-679","apr":12.59,"term_months":60,"monthly_payment":544,"total_cost":35350,"total_interest":8492}}},"lease":{"term_months":36,"monthly_payment":372,"due_at_signing":3499,"annual_mileage":10000,"excess_mileage_charge":0.25,"total_lease_cost":16891,"money_factor":0.002,"residual_value":14634}}}],"yearly_cost_estimates":{"insurance_annual":1352,"registration_annual":204,"maintenance_annual":461,"fuel_annual_12k_miles":778,"total_annual_ownership":2795},"best_deal_summary":{"lowest_monthly_payment":{"dealership":"Toyota of Richardson","type":"lease","amount":352},"lowest_total_cost":{"dealership":"Toyota of Richardson","type":"purchase_tier_1","amount":31030},"best_apr":{"dealership":"Toyota of Richardson","rate":6.99}}}},{"make":"Toyota","model":"Prius","year":2018,"variant":"Hybrid (LE FWD baseline)","drivetrain":"FWD","horsepower_hp":121,"mpg":{"city":54,"hwy":50,"combined":52},"legroom_in":{"front":43.2,"rear":33.4},"price_usd":{"msrp_from":23985,"lease_per_month":349,"lease_notes":"Educational estimate • 36 mo • MF 0.0017 • Residual 58% of MSRP • Cap cost ~ MSRP×(1-3%) + $895 acq • DAS about $2,999 (not applied as CCR) • Pre-tax • Generated 2025-11-08","full_price":23985},"buying_factors":{"reliability_longevity":"Toyota hybrid systems have a long record of durability; low maintenance needs.","safety":"Toyota Safety Sense (varying versions) with AEB/LKA/BSM available or standard; good crash performance.","total_cost_to_own":"Excellent fuel savings.","practicality":"Flexible cargo space; compact footprint great for cities.","comfort_refinement":"Quiet, smooth.","tech_convenience":"Updated UI.","performance_handling":"Modest but efficient.","efficiency_range":"Excellent MPG and long range per tank.","warranty_support":"3/36 basic, 5/60 powertrain; hybrid battery 8/100 typical; wide dealer network.","resale_value":"Historically strong resale, especially for Toyota staples.","style_vibe":"Modern eco.","fit_for_climate_roads":"FWD suits most climates; winter tires advised for snow."},"id":18,"links":{"manufacturer":"https://www.toyota.com/prius","epa":"https://www.fueleconomy.gov/feg/bymodel/2018_Toyota_Prius.shtml","iihs":"https://www.iihs.org/ratings/toyota/prius","nhtsa":"https://www.nhtsa.gov/vehicle/2018/TOYOTA/PRIUS","edmunds":"https://www.edmunds.com/toyota/prius/2018/","kbb":"https://www.kbb.com/toyota/prius/2018/","car_and_driver":"https://www.caranddriver.com/toyota/prius-2018","us_news":"https://cars.usnews.com/cars-trucks/toyota-prius/2018","autotrader":"https://www.autotrader.com/toyota/prius/2018"},"link_usage":{"safety":["https://www.iihs.org/ratings/toyota/prius","https://www.nhtsa.gov/vehicle/2018/TOYOTA/PRIUS"],"reliability_longevity":["https://www.kbb.com/toyota/prius/2018/","https://www.edmunds.com/toyota/prius/2018/"],"total_cost_to_own":["https://www.edmunds.com/toyota/prius/2018/","https://www.kbb.com/toyota/prius/2018/","https://www.autotrader.com/toyota/prius/2018"],"practicality":["https://www.caranddriver.com/toyota/prius-2018","https://www.edmunds.com/toyota/prius/2018/","https://cars.usnews.com/cars-trucks/toyota-prius/2018"],"comfort_refinement":["https://www.caranddriver.com/toyota/prius-2018","https://www.edmunds.com/toyota/prius/2018/"],"tech_convenience":["https://www.toyota.com/prius","https://www.edmunds.com/toyota/prius/2018/"],"performance_handling":["https://www.caranddriver.com/toyota/prius-2018","https://www.edmunds.com/toyota/prius/2018/"],"efficiency_range":["https://www.fueleconomy.gov/feg/bymodel/2018_Toyota_Prius.shtml"],"warranty_support":["https://www.toyota.com/prius"],"resale_value":["https://www.kbb.com/toyota/prius/2018/","https://www.autotrader.com/toyota/prius/2018"],"style_vibe":["https://www.caranddriver.com/toyota/prius-2018","https://cars.usnews.com/cars-trucks/toyota-prius/2018"],"fit_for_climate_roads":["https://www.toyota.com/prius","https://www.caranddriver.com/toyota/prius-2018"]},"financing_75080":{"zip_code":"75080","area":"Richardson, TX","last_updated":"2025-11-09","dealerships":[{"name":"Toyota of Richardson","address":"1501 N Central Expy, Richardson, TX 75080","distance_miles":2.1,"phone":"(972) 234-5678","finance_options":{"purchase":{"price_after_incentives":23505,"down_payment":2399,"apr_tiers":{"tier_1_excellent":{"credit_score":"720+","apr":6.99,"term_months":60,"monthly_payment":418,"total_cost":27479,"total_interest":3973.7000000000007},"tier_2_good":{"credit_score":"680-719","apr":8.49,"term_months":60,"monthly_payment":433,"total_cost":28379,"total_interest":4873.700000000001},"tier_3_fair":{"credit_score":"620-679","apr":11.99,"term_months":60,"monthly_payment":469,"total_cost":30539,"total_interest":7033.700000000001}}},"lease":{"term_months":36,"monthly_payment":312,"due_at_signing":2999,"annual_mileage":12000,"excess_mileage_charge":0.2,"total_lease_cost":14231,"money_factor":0.0018,"residual_value":12952}}},{"name":"Trophy Toyota of Dallas","address":"13333 N Stemmons Fwy, Dallas, TX 75234","distance_miles":8.7,"phone":"(972) 243-9999","finance_options":{"purchase":{"price_after_incentives":23655,"down_payment":2399,"apr_tiers":{"tier_1_excellent":{"credit_score":"720+","apr":7.29,"term_months":60,"monthly_payment":424,"total_cost":27839,"total_interest":4183.700000000001},"tier_2_good":{"credit_score":"680-719","apr":8.79,"term_months":60,"monthly_payment":439,"total_cost":28739,"total_interest":5083.700000000001},"tier_3_fair":{"credit_score":"620-679","apr":12.29,"term_months":60,"monthly_payment":476,"total_cost":30959,"total_interest":7303.700000000001}}},"lease":{"term_months":36,"monthly_payment":322,"due_at_signing":3249,"annual_mileage":12000,"excess_mileage_charge":0.2,"total_lease_cost":14841,"money_factor":0.0019,"residual_value":12952}}},{"name":"Vandergriff Toyota","address":"6201 Colleyville Blvd, Colleyville, TX 76034","distance_miles":15.3,"phone":"(817) 329-3200","finance_options":{"purchase":{"price_after_incentives":23805,"down_payment":2399,"apr_tiers":{"tier_1_excellent":{"credit_score":"720+","apr":7.59,"term_months":60,"monthly_payment":430,"total_cost":28199,"total_interest":4393.700000000001},"tier_2_good":{"credit_score":"680-719","apr":9.09,"term_months":60,"monthly_payment":445,"total_cost":29099,"total_interest":5293.700000000001},"tier_3_fair":{"credit_score":"620-679","apr":12.59,"term_months":60,"monthly_payment":483,"total_cost":31379,"total_interest":7573.700000000001}}},"lease":{"term_months":36,"monthly_payment":332,"due_at_signing":3499,"annual_mileage":10000,"excess_mileage_charge":0.25,"total_lease_cost":15451,"money_factor":0.002,"residual_value":12952}}}],"yearly_cost_estimates":{"insurance_annual":1300,"registration_annual":198,"maintenance_annual":461,"fuel_annual_12k_miles":808,"total_annual_ownership":2767},"best_deal_summary":{"lowest_monthly_payment":{"dealership":"Toyota of Richardson","type":"lease","amount":312},"lowest_total_cost":{"dealership":"Toyota of Richardson","type":"purchase_tier_1","amount":27479},"best_apr":{"dealership":"Toyota of Richardson","rate":6.99}}}},{"make":"Toyota","model":"Corolla","year":2020,"variant":"Sedan 2.0L I4","drivetrain":"FWD","horsepower_hp":169,"mpg":{"city":31,"hwy":40,"combined":34},"legroom_in":{"front":42,"rear":34.8},"price_usd":{"msrp_from":19600,"lease_per_month":295,"lease_notes":"Educational estimate • 36 mo • MF 0.0017 • Residual 56% of MSRP • Cap cost ~ MSRP×(1-4%) + $895 acq • DAS about $2,999 (not applied as CCR) • Pre-tax • Generated 2025-11-08","full_price":19600},"buying_factors":{"reliability_longevity":"Proven Toyota gas powertrains; simple upkeep and long service life.","safety":"TSS 2.0 standard.","total_cost_to_own":"Low fuel/maintenance; insurance reasonable; strong residuals.","practicality":"Usable trunk; easy to park.","comfort_refinement":"Refined ride.","tech_convenience":"CarPlay/Android Auto.","performance_handling":"Balanced steering/braking; adequate acceleration for class.","efficiency_range":"Competitive MPG for segment; decent range.","warranty_support":"3/36 basic, 5/60 powertrain; hybrid battery 8/100 typical; wide dealer network.","resale_value":"Historically strong resale, especially for Toyota staples.","style_vibe":"Clean modern design.","fit_for_climate_roads":"FWD suits most climates; winter tires advised for snow."},"id":22,"links":{"manufacturer":"https://www.toyota.com/corolla","epa":"https://www.fueleconomy.gov/feg/bymodel/2020_Toyota_Corolla.shtml","iihs":"https://www.iihs.org/ratings/toyota/corolla","nhtsa":"https://www.nhtsa.gov/vehicle/2020/TOYOTA/COROLLA","edmunds":"https://www.edmunds.com/toyota/corolla/2020/","kbb":"https://www.kbb.com/toyota/corolla/2020/","car_and_driver":"https://www.caranddriver.com/toyota/corolla-2020","us_news":"https://cars.usnews.com/cars-trucks/toyota-corolla/2020","autotrader":"https://www.autotrader.com/toyota/corolla/2020"},"link_usage":{"safety":["https://www.iihs.org/ratings/toyota/corolla","https://www.nhtsa.gov/vehicle/2020/TOYOTA/COROLLA"],"reliability_longevity":["https://www.kbb.com/toyota/corolla/2020/","https://www.edmunds.com/toyota/corolla/2020/"],"total_cost_to_own":["https://www.edmunds.com/toyota/corolla/2020/","https://www.kbb.com/toyota/corolla/2020/","https://www.autotrader.com/toyota/corolla/2020"],"practicality":["https://www.caranddriver.com/toyota/corolla-2020","https://www.edmunds.com/toyota/corolla/2020/","https://cars.usnews.com/cars-trucks/toyota-corolla/2020"],"comfort_refinement":["https://www.caranddriver.com/toyota/corolla-2020","https://www.edmunds.com/toyota/corolla/2020/"],"tech_convenience":["https://www.toyota.com/corolla","https://www.edmunds.com/toyota/corolla/2020/"],"performance_handling":["https://www.caranddriver.com/toyota/corolla-2020","https://www.edmunds.com/toyota/corolla/2020/"],"efficiency_range":["https://www.fueleconomy.gov/feg/bymodel/2020_Toyota_Corolla.shtml"],"warranty_support":["https://www.toyota.com/corolla"],"resale_value":["https://www.kbb.com/toyota/corolla/2020/","https://www.autotrader.com/toyota/corolla/2020"],"style_vibe":["https://www.caranddriver.com/toyota/corolla-2020","https://cars.usnews.com/cars-trucks/toyota-corolla/2020"],"fit_for_climate_roads":["https://www.toyota.com/corolla","https://www.caranddriver.com/toyota/corolla-2020"]},"financing_75080":{"zip_code":"75080","area":"Richardson, TX","last_updated":"2025-11-09","dealerships":[{"name":"Toyota of Richardson","address":"1501 N Central Expy, Richardson, TX 75080","distance_miles":2.1,"phone":"(972) 234-5678","finance_options":{"purchase":{"price_after_incentives":19208,"down_payment":1960,"apr_tiers":{"tier_1_excellent":{"credit_score":"720+","apr":6.99,"term_months":60,"monthly_payment":341,"total_cost":22420,"total_interest":3212},"tier_2_good":{"credit_score":"680-719","apr":8.49,"term_months":60,"monthly_payment":354,"total_cost":23200,"total_interest":3992},"tier_3_fair":{"credit_score":"620-679","apr":11.99,"term_months":60,"monthly_payment":384,"total_cost":25000,"total_interest":5792}}},"lease":{"term_months":36,"monthly_payment":255,"due_at_signing":2999,"annual_mileage":12000,"excess_mileage_charge":0.2,"total_lease_cost":12179,"money_factor":0.0018,"residual_value":10584}}},{"name":"Trophy Toyota of Dallas","address":"13333 N Stemmons Fwy, Dallas, TX 75234","distance_miles":8.7,"phone":"(972) 243-9999","finance_options":{"purchase":{"price_after_incentives":19358,"down_payment":1960,"apr_tiers":{"tier_1_excellent":{"credit_score":"720+","apr":7.29,"term_months":60,"monthly_payment":347,"total_cost":22780,"total_interest":3422},"tier_2_good":{"credit_score":"680-719","apr":8.79,"term_months":60,"monthly_payment":359,"total_cost":23500,"total_interest":4142},"tier_3_fair":{"credit_score":"620-679","apr":12.29,"term_months":60,"monthly_payment":390,"total_cost":25360,"total_interest":6002}}},"lease":{"term_months":36,"monthly_payment":265,"due_at_signing":3249,"annual_mileage":12000,"excess_mileage_charge":0.2,"total_lease_cost":12789,"money_factor":0.0019,"residual_value":10584}}},{"name":"Vandergriff Toyota","address":"6201 Colleyville Blvd, Colleyville, TX 76034","distance_miles":15.3,"phone":"(817) 329-3200","finance_options":{"purchase":{"price_after_incentives":19508,"down_payment":1960,"apr_tiers":{"tier_1_excellent":{"credit_score":"720+","apr":7.59,"term_months":60,"monthly_payment":352,"total_cost":23080,"total_interest":3572},"tier_2_good":{"credit_score":"680-719","apr":9.09,"term_months":60,"monthly_payment":365,"total_cost":23860,"total_interest":4352},"tier_3_fair":{"credit_score":"620-679","apr":12.59,"term_months":60,"monthly_payment":396,"total_cost":25720,"total_interest":6212}}},"lease":{"term_months":36,"monthly_payment":275,"due_at_signing":3499,"annual_mileage":10000,"excess_mileage_charge":0.25,"total_lease_cost":13399,"money_factor":0.002,"residual_value":10584}}}],"yearly_cost_estimates":{"insurance_annual":1227,"registration_annual":189,"maintenance_annual":485,"fuel_annual_12k_miles":1235,"total_annual_ownership":3136},"best_deal_summary":{"lowest_monthly_payment":{"dealership":"Toyota of Richardson","type":"lease","amount":255},"lowest_total_cost":{"dealership":"Toyota of Richardson","type":"purchase_tier_1","amount":22420},"best_apr":{"dealership":"Toyota of Richardson","rate":6.99}}}},{"make":"Toyota","model":"Corolla Hybrid","year":2020,"variant":"Sedan Hybrid","drivetrain":"FWD","horsepower_hp":121,"mpg":{"city":53,"hwy":52,"combined":52},"legroom_in":{"front":42,"rear":34.8},"price_usd":{"msrp_from":23100,"lease_per_month":338,"lease_notes":"Educational estimate • 36 mo • MF 0.0017 • Residual 58% of MSRP • Cap cost ~ MSRP×(1-3%) + $895 acq • DAS about $2,999 (not applied as CCR) • Pre-tax • Generated 2025-11-08","full_price":23100},"buying_factors":{"reliability_longevity":"Toyota hybrid systems have a long record of durability; low maintenance needs.","safety":"Toyota Safety Sense (varying versions) with AEB/LKA/BSM available or standard; good crash performance.","total_cost_to_own":"Outstanding fuel savings.","practicality":"Good cabin space and trunk; easy visibility and parking.","comfort_refinement":"Quiet hybrid demeanor.","tech_convenience":"CarPlay/Android Auto.","performance_handling":"Adequate power; efficient.","efficiency_range":"Excellent MPG and long range per tank.","warranty_support":"3/36 basic, 5/60 powertrain; hybrid battery 8/100 typical; wide dealer network.","resale_value":"Historically strong resale, especially for Toyota staples.","style_vibe":"Eco daily driver.","fit_for_climate_roads":"FWD suits most climates; winter tires advised for snow."},"id":23,"links":{"manufacturer":"https://www.toyota.com/corolla-hybrid","epa":"https://www.fueleconomy.gov/feg/bymodel/2020_Toyota_Corolla_Hybrid.shtml","iihs":"https://www.iihs.org/ratings/toyota/corolla-hybrid","nhtsa":"https://www.nhtsa.gov/vehicle/2020/TOYOTA/COROLLA%20HYBRID","edmunds":"https://www.edmunds.com/toyota/corolla-hybrid/2020/","kbb":"https://www.kbb.com/toyota/corolla-hybrid/2020/","car_and_driver":"https://www.caranddriver.com/toyota/corolla-hybrid-2020","us_news":"https://cars.usnews.com/cars-trucks/toyota-corolla-hybrid/2020","autotrader":"https://www.autotrader.com/toyota/corolla-hybrid/2020"},"link_usage":{"safety":["https://www.iihs.org/ratings/toyota/corolla-hybrid","https://www.nhtsa.gov/vehicle/2020/TOYOTA/COROLLA%20HYBRID"],"reliability_longevity":["https://www.kbb.com/toyota/corolla-hybrid/2020/","https://www.edmunds.com/toyota/corolla-hybrid/2020/"],"total_cost_to_own":["https://www.edmunds.com/toyota/corolla-hybrid/2020/","https://www.kbb.com/toyota/corolla-hybrid/2020/","https://www.autotrader.com/toyota/corolla-hybrid/2020"],"practicality":["https://www.caranddriver.com/toyota/corolla-hybrid-2020","https://www.edmunds.com/toyota/corolla-hybrid/2020/","https://cars.usnews.com/cars-trucks/toyota-corolla-hybrid/2020"],"comfort_refinement":["https://www.caranddriver.com/toyota/corolla-hybrid-2020","https://www.edmunds.com/toyota/corolla-hybrid/2020/"],"tech_convenience":["https://www.toyota.com/corolla-hybrid","https://www.edmunds.com/toyota/corolla-hybrid/2020/"],"performance_handling":["https://www.caranddriver.com/toyota/corolla-hybrid-2020","https://www.edmunds.com/toyota/corolla-hybrid/2020/"],"efficiency_range":["https://www.fueleconomy.gov/feg/bymodel/2020_Toyota_Corolla_Hybrid.shtml"],"warranty_support":["https://www.toyota.com/corolla-hybrid"],"resale_value":["https://www.kbb.com/toyota/corolla-hybrid/2020/","https://www.autotrader.com/toyota/corolla-hybrid/2020"],"style_vibe":["https://www.caranddriver.com/toyota/corolla-hybrid-2020","https://cars.usnews.com/cars-trucks/toyota-corolla-hybrid/2020"],"fit_for_climate_roads":["https://www.toyota.com/corolla-hybrid","https://www.caranddriver.com/toyota/corolla-hybrid-2020"]},"financing_75080":{"zip_code":"75080","area":"Richardson, TX","last_updated":"2025-11-09","dealerships":[{"name":"Toyota of Richardson","address":"1501 N Central Expy, Richardson, TX 75080","distance_miles":2.1,"phone":"(972) 234-5678","finance_options":{"purchase":{"price_after_incentives":22638,"down_payment":2310,"apr_tiers":{"tier_1_excellent":{"credit_score":"720+","apr":6.99,"term_months":60,"monthly_payment":402,"total_cost":26430,"total_interest":3792},"tier_2_good":{"credit_score":"680-719","apr":8.49,"term_months":60,"monthly_payment":417,"total_cost":27330,"total_interest":4692},"tier_3_fair":{"credit_score":"620-679","apr":11.99,"term_months":60,"monthly_payment":452,"total_cost":29430,"total_interest":6792}}},"lease":{"term_months":36,"monthly_payment":300,"due_at_signing":2999,"annual_mileage":12000,"excess_mileage_charge":0.2,"total_lease_cost":13799,"money_factor":0.0018,"residual_value":12474}}},{"name":"Trophy Toyota of Dallas","address":"13333 N Stemmons Fwy, Dallas, TX 75234","distance_miles":8.7,"phone":"(972) 243-9999","finance_options":{"purchase":{"price_after_incentives":22788,"down_payment":2310,"apr_tiers":{"tier_1_excellent":{"credit_score":"720+","apr":7.29,"term_months":60,"monthly_payment":408,"total_cost":26790,"total_interest":4002},"tier_2_good":{"credit_score":"680-719","apr":8.79,"term_months":60,"monthly_payment":423,"total_cost":27690,"total_interest":4902},"tier_3_fair":{"credit_score":"620-679","apr":12.29,"term_months":60,"monthly_payment":459,"total_cost":29850,"total_interest":7062}}},"lease":{"term_months":36,"monthly_payment":310,"due_at_signing":3249,"annual_mileage":12000,"excess_mileage_charge":0.2,"total_lease_cost":14409,"money_factor":0.0019,"residual_value":12474}}},{"name":"Vandergriff Toyota","address":"6201 Colleyville Blvd, Colleyville, TX 76034","distance_miles":15.3,"phone":"(817) 329-3200","finance_options":{"purchase":{"price_after_incentives":22938,"down_payment":2310,"apr_tiers":{"tier_1_excellent":{"credit_score":"720+","apr":7.59,"term_months":60,"monthly_payment":414,"total_cost":27150,"total_interest":4212},"tier_2_good":{"credit_score":"680-719","apr":9.09,"term_months":60,"monthly_payment":429,"total_cost":28050,"total_interest":5112},"tier_3_fair":{"credit_score":"620-679","apr":12.59,"term_months":60,"monthly_payment":465,"total_cost":30210,"total_interest":7272}}},"lease":{"term_months":36,"monthly_payment":320,"due_at_signing":3499,"annual_mileage":10000,"excess_mileage_charge":0.25,"total_lease_cost":15019,"money_factor":0.002,"residual_value":12474}}}],"yearly_cost_estimates":{"insurance_annual":1285,"registration_annual":196,"maintenance_annual":461,"fuel_annual_12k_miles":808,"total_annual_ownership":2750},"best_deal_summary":{"lowest_monthly_payment":{"dealership":"Toyota of Richardson","type":"lease","amount":300},"lowest_total_cost":{"dealership":"Toyota of Richardson","type":"purchase_tier_1","amount":26430},"best_apr":{"dealership":"Toyota of Richardson","rate":6.99}}}},{"make":"Toyota","model":"Prius","year":2023,"variant":"Hybrid (new gen)","drivetrain":"FWD/AWD","horsepower_hp":194,"mpg":{"city":57,"hwy":56,"combined":57},"legroom_in":{"front":43.2,"rear":34.8},"price_usd":{"msrp_from":27500,"lease_per_month":374,"lease_notes":"Educational estimate • 36 mo • MF 0.0015 • Residual 60% of MSRP • Cap cost ~ MSRP×(1-3%) + $895 acq • DAS about $2,999 (not applied as CCR) • Pre-tax • Generated 2025-11-08","full_price":27500},"buying_factors":{"reliability_longevity":"Toyota hybrid systems have a long record of durability; low maintenance needs.","safety":"Toyota Safety Sense (varying versions) with AEB/LKA/BSM available or standard; good crash performance.","total_cost_to_own":"Top-tier fuel savings.","practicality":"Flexible cargo space; compact footprint great for cities.","comfort_refinement":"Much improved refinement.","tech_convenience":"CarPlay/Android Auto on most years/trims; intuitive infotainment.","performance_handling":"Balanced steering/braking; adequate acceleration for class.","efficiency_range":"Excellent MPG and long range per tank.","warranty_support":"3/36 basic, 5/60 powertrain; hybrid battery 8/100 typical; wide dealer network.","resale_value":"Historically strong resale, especially for Toyota staples.","style_vibe":"Sleek eco.","fit_for_climate_roads":"AWD trims handle snow/rough roads well."},"id":30,"links":{"manufacturer":"https://www.toyota.com/prius","epa":"https://www.fueleconomy.gov/feg/bymodel/2023_Toyota_Prius.shtml","iihs":"https://www.iihs.org/ratings/toyota/prius","nhtsa":"https://www.nhtsa.gov/vehicle/2023/TOYOTA/PRIUS","edmunds":"https://www.edmunds.com/toyota/prius/2023/","kbb":"https://www.kbb.com/toyota/prius/2023/","car_and_driver":"https://www.caranddriver.com/toyota/prius-2023","us_news":"https://cars.usnews.com/cars-trucks/toyota-prius/2023","autotrader":"https://www.autotrader.com/toyota/prius/2023"},"link_usage":{"safety":["https://www.iihs.org/ratings/toyota/prius","https://www.nhtsa.gov/vehicle/2023/TOYOTA/PRIUS"],"reliability_longevity":["https://www.kbb.com/toyota/prius/2023/","https://www.edmunds.com/toyota/prius/2023/"],"total_cost_to_own":["https://www.edmunds.com/toyota/prius/2023/","https://www.kbb.com/toyota/prius/2023/","https://www.autotrader.com/toyota/prius/2023"],"practicality":["https://www.caranddriver.com/toyota/prius-2023","https://www.edmunds.com/toyota/prius/2023/","https://cars.usnews.com/cars-trucks/toyota-prius/2023"],"comfort_refinement":["https://www.caranddriver.com/toyota/prius-2023","https://www.edmunds.com/toyota/prius/2023/"],"tech_convenience":["https://www.toyota.com/prius","https://www.edmunds.com/toyota/prius/2023/"],"performance_handling":["https://www.caranddriver.com/toyota/prius-2023","https://www.edmunds.com/toyota/prius/2023/"],"efficiency_range":["https://www.fueleconomy.gov/feg/bymodel/2023_Toyota_Prius.shtml"],"warranty_support":["https://www.toyota.com/prius"],"resale_value":["https://www.kbb.com/toyota/prius/2023/","https://www.autotrader.com/toyota/prius/2023"],"style_vibe":["https://www.caranddriver.com/toyota/prius-2023","https://cars.usnews.com/cars-trucks/toyota-prius/2023"],"fit_for_climate_roads":["https://www.toyota.com/prius","https://www.caranddriver.com/toyota/prius-2023"]},"financing_75080":{"zip_code":"75080","area":"Richardson, TX","last_updated":"2025-11-09","dealerships":[{"name":"Toyota of Richardson","address":"1501 N Central Expy, Richardson, TX 75080","distance_miles":2.1,"phone":"(972) 234-5678","finance_options":{"purchase":{"price_after_incentives":26950,"down_payment":2750,"apr_tiers":{"tier_1_excellent":{"credit_score":"720+","apr":6.99,"term_months":60,"monthly_payment":479,"total_cost":31490,"total_interest":4540},"tier_2_good":{"credit_score":"680-719","apr":8.49,"term_months":60,"monthly_payment":496,"total_cost":32510,"total_interest":5560},"tier_3_fair":{"credit_score":"620-679","apr":11.99,"term_months":60,"monthly_payment":538,"total_cost":35030,"total_interest":8080}}},"lease":{"term_months":36,"monthly_payment":358,"due_at_signing":2999,"annual_mileage":12000,"excess_mileage_charge":0.2,"total_lease_cost":15887,"money_factor":0.0018,"residual_value":14850}}},{"name":"Trophy Toyota of Dallas","address":"13333 N Stemmons Fwy, Dallas, TX 75234","distance_miles":8.7,"phone":"(972) 243-9999","finance_options":{"purchase":{"price_after_incentives":27100,"down_payment":2750,"apr_tiers":{"tier_1_excellent":{"credit_score":"720+","apr":7.29,"term_months":60,"monthly_payment":485,"total_cost":31850,"total_interest":4750},"tier_2_good":{"credit_score":"680-719","apr":8.79,"term_months":60,"monthly_payment":503,"total_cost":32930,"total_interest":5830},"tier_3_fair":{"credit_score":"620-679","apr":12.29,"term_months":60,"monthly_payment":545,"total_cost":35450,"total_interest":8350}}},"lease":{"term_months":36,"monthly_payment":368,"due_at_signing":3249,"annual_mileage":12000,"excess_mileage_charge":0.2,"total_lease_cost":16497,"money_factor":0.0019,"residual_value":14850}}},{"name":"Vandergriff Toyota","address":"6201 Colleyville Blvd, Colleyville, TX 76034","distance_miles":15.3,"phone":"(817) 329-3200","finance_options":{"purchase":{"price_after_incentives":27250,"down_payment":2750,"apr_tiers":{"tier_1_excellent":{"credit_score":"720+","apr":7.59,"term_months":60,"monthly_payment":492,"total_cost":32270,"total_interest":5020},"tier_2_good":{"credit_score":"680-719","apr":9.09,"term_months":60,"monthly_payment":510,"total_cost":33350,"total_interest":6100},"tier_3_fair":{"credit_score":"620-679","apr":12.59,"term_months":60,"monthly_payment":552,"total_cost":35870,"total_interest":8620}}},"lease":{"term_months":36,"monthly_payment":378,"due_at_signing":3499,"annual_mileage":10000,"excess_mileage_charge":0.25,"total_lease_cost":17107,"money_factor":0.002,"residual_value":14850}}}],"yearly_cost_estimates":{"insurance_annual":1358,"registration_annual":205,"maintenance_annual":497,"fuel_annual_12k_miles":737,"total_annual_ownership":2797},"best_deal_summary":{"lowest_monthly_payment":{"dealership":"Toyota of Richardson","type":"lease","amount":358},"lowest_total_cost":{"dealership":"Toyota of Richardson","type":"purchase_tier_1","amount":31490},"best_apr":{"dealership":"Toyota of Richardson","rate":6.99}}}},{"make":"Toyota","model":"Corolla","year":2025,"variant":"Sedan 2.0L I4","drivetrain":"FWD","horsepower_hp":169,"mpg":{"city":32,"hwy":41,"combined":35},"legroom_in":{"front":42,"rear":34.8},"price_usd":{"msrp_from":22995,"lease_per_month":293,"lease_notes":"Educational estimate • 36 mo • MF 0.0012 • Residual 61% of MSRP • Cap cost ~ MSRP×(1-4%) + $895 acq • DAS about $2,999 (not applied as CCR) • Pre-tax • Generated 2025-11-08","full_price":22995},"buying_factors":{"reliability_longevity":"Proven Toyota gas powertrains; simple upkeep and long service life.","safety":"Toyota Safety Sense (varying versions) with AEB/LKA/BSM available or standard; good crash performance.","total_cost_to_own":"Low fuel/maintenance; insurance reasonable; strong residuals.","practicality":"Good trunk and city-friendly size.","comfort_refinement":"Quiet, composed ride; supportive seats; effective climate control.","tech_convenience":"CarPlay/Android Auto on most years/trims; intuitive infotainment.","performance_handling":"Balanced steering/braking; adequate acceleration for class.","efficiency_range":"Competitive MPG for segment; decent range.","warranty_support":"3/36 basic, 5/60 powertrain; hybrid battery 8/100 typical; wide dealer network.","resale_value":"Historically strong resale, especially for Toyota staples.","style_vibe":"Clean, practical.","fit_for_climate_roads":"FWD suits most climates; winter tires advised for snow."},"id":36,"links":{"manufacturer":"https://www.toyota.com/corolla","epa":"https://www.fueleconomy.gov/feg/bymodel/2025_Toyota_Corolla.shtml","iihs":"https://www.iihs.org/ratings/toyota/corolla","nhtsa":"https://www.nhtsa.gov/vehicle/2025/TOYOTA/COROLLA","edmunds":"https://www.edmunds.com/toyota/corolla/2025/","kbb":"https://www.kbb.com/toyota/corolla/2025/","car_and_driver":"https://www.caranddriver.com/toyota/corolla-2025","us_news":"https://cars.usnews.com/cars-trucks/toyota-corolla/2025","autotrader":"https://www.autotrader.com/toyota/corolla/2025"},"link_usage":{"safety":["https://www.iihs.org/ratings/toyota/corolla","https://www.nhtsa.gov/vehicle/2025/TOYOTA/COROLLA"],"reliability_longevity":["https://www.kbb.com/toyota/corolla/2025/","https://www.edmunds.com/toyota/corolla/2025/"],"total_cost_to_own":["https://www.edmunds.com/toyota/corolla/2025/","https://www.kbb.com/toyota/corolla/2025/","https://www.autotrader.com/toyota/corolla/2025"],"practicality":["https://www.caranddriver.com/toyota/corolla-2025","https://www.edmunds.com/toyota/corolla/2025/","https://cars.usnews.com/cars-trucks/toyota-corolla/2025"],"comfort_refinement":["https://www.caranddriver.com/toyota/corolla-2025","https://www.edmunds.com/toyota/corolla/2025/"],"tech_convenience":["https://www.toyota.com/corolla","https://www.edmunds.com/toyota/corolla/2025/"],"performance_handling":["https://www.caranddriver.com/toyota/corolla-2025","https://www.edmunds.com/toyota/corolla/2025/"],"efficiency_range":["https://www.fueleconomy.gov/feg/bymodel/2025_Toyota_Corolla.shtml"],"warranty_support":["https://www.toyota.com/corolla"],"resale_value":["https://www.kbb.com/toyota/corolla/2025/","https://www.autotrader.com/toyota/corolla/2025"],"style_vibe":["https://www.caranddriver.com/toyota/corolla-2025","https://cars.usnews.com/cars-trucks/toyota-corolla/2025"],"fit_for_climate_roads":["https://www.toyota.com/corolla","https://www.caranddriver.com/toyota/corolla-2025"]},"financing_75080":{"zip_code":"75080","area":"Richardson, TX","last_updated":"2025-11-09","dealerships":[{"name":"Toyota of Richardson","address":"1501 N Central Expy, Richardson, TX 75080","distance_miles":2.1,"phone":"(972) 234-5678","finance_options":{"purchase":{"price_after_incentives":21845,"down_payment":2300,"apr_tiers":{"tier_1_excellent":{"credit_score":"720+","apr":4.99,"term_months":60,"monthly_payment":369,"total_cost":24440,"total_interest":2594.75},"tier_2_good":{"credit_score":"680-719","apr":6.49,"term_months":60,"monthly_payment":382,"total_cost":25220,"total_interest":3374.75},"tier_3_fair":{"credit_score":"620-679","apr":9.99,"term_months":60,"monthly_payment":415,"total_cost":27200,"total_interest":5354.75}}},"lease":{"term_months":36,"monthly_payment":299,"due_at_signing":2999,"annual_mileage":12000,"excess_mileage_charge":0.2,"total_lease_cost":13763,"money_factor":0.0018,"residual_value":12417}}},{"name":"Trophy Toyota of Dallas","address":"13333 N Stemmons Fwy, Dallas, TX 75234","distance_miles":8.7,"phone":"(972) 243-9999","finance_options":{"purchase":{"price_after_incentives":21995,"down_payment":2300,"apr_tiers":{"tier_1_excellent":{"credit_score":"720+","apr":5.29,"term_months":60,"monthly_payment":374,"total_cost":24740,"total_interest":2744.75},"tier_2_good":{"credit_score":"680-719","apr":6.79,"term_months":60,"monthly_payment":388,"total_cost":25580,"total_interest":3584.75},"tier_3_fair":{"credit_score":"620-679","apr":10.29,"term_months":60,"monthly_payment":421,"total_cost":27560,"total_interest":5564.75}}},"lease":{"term_months":36,"monthly_payment":309,"due_at_signing":3249,"annual_mileage":12000,"excess_mileage_charge":0.2,"total_lease_cost":14373,"money_factor":0.0019,"residual_value":12417}}},{"name":"Vandergriff Toyota","address":"6201 Colleyville Blvd, Colleyville, TX 76034","distance_miles":15.3,"phone":"(817) 329-3200","finance_options":{"purchase":{"price_after_incentives":22145,"down_payment":2300,"apr_tiers":{"tier_1_excellent":{"credit_score":"720+","apr":5.59,"term_months":60,"monthly_payment":380,"total_cost":25100,"total_interest":2954.75},"tier_2_good":{"credit_score":"680-719","apr":7.09,"term_months":60,"monthly_payment":394,"total_cost":25940,"total_interest":3794.75},"tier_3_fair":{"credit_score":"620-679","apr":10.59,"term_months":60,"monthly_payment":427,"total_cost":27920,"total_interest":5774.75}}},"lease":{"term_months":36,"monthly_payment":319,"due_at_signing":3499,"annual_mileage":10000,"excess_mileage_charge":0.25,"total_lease_cost":14983,"money_factor":0.002,"residual_value":12417}}}],"yearly_cost_estimates":{"insurance_annual":1283,"registration_annual":196,"maintenance_annual":485,"fuel_annual_12k_miles":1200,"total_annual_ownership":3164},"best_deal_summary":{"lowest_monthly_payment":{"dealership":"Toyota of Richardson","type":"lease","amount":299},"lowest_total_cost":{"dealership":"Toyota of Richardson","type":"purchase_tier_1","amount":24440},"best_apr":{"dealership":"Toyota of Richardson","rate":4.99}}}},{"make":"Toyota","model":"Corolla Hybrid","year":2025,"variant":"Sedan Hybrid","drivetrain":"FWD/AWD","horsepower_hp":138,"mpg":{"city":53,"hwy":46,"combined":50},"legroom_in":{"front":42,"rear":34.8},"price_usd":{"msrp_from":23825,"lease_per_month":297,"lease_notes":"Educational estimate • 36 mo • MF 0.0012 • Residual 63% of MSRP • Cap cost ~ MSRP×(1-3%) + $895 acq • DAS about $2,999 (not applied as CCR) • Pre-tax • Generated 2025-11-08","full_price":23825},"buying_factors":{"reliability_longevity":"Toyota hybrid systems have a long record of durability; low maintenance needs.","safety":"Toyota Safety Sense (varying versions) with AEB/LKA/BSM available or standard; good crash performance.","total_cost_to_own":"Outstanding fuel economy.","practicality":"Easy to park; efficient commuter.","comfort_refinement":"Quiet hybrid operation.","tech_convenience":"CarPlay/Android Auto on most years/trims; intuitive infotainment.","performance_handling":"Adequate; AWD improves traction.","efficiency_range":"Excellent MPG and long range per tank.","warranty_support":"3/36 basic, 5/60 powertrain; hybrid battery 8/100 typical; wide dealer network.","resale_value":"Historically strong resale, especially for Toyota staples.","style_vibe":"Eco-smart.","fit_for_climate_roads":"AWD trims handle snow/rough roads well."},"id":38,"links":{"manufacturer":"https://www.toyota.com/corolla-hybrid","epa":"https://www.fueleconomy.gov/feg/bymodel/2025_Toyota_Corolla_Hybrid.shtml","iihs":"https://www.iihs.org/ratings/toyota/corolla-hybrid","nhtsa":"https://www.nhtsa.gov/vehicle/2025/TOYOTA/COROLLA%20HYBRID","edmunds":"https://www.edmunds.com/toyota/corolla-hybrid/2025/","kbb":"https://www.kbb.com/toyota/corolla-hybrid/2025/","car_and_driver":"https://www.caranddriver.com/toyota/corolla-hybrid-2025","us_news":"https://cars.usnews.com/cars-trucks/toyota-corolla-hybrid/2025","autotrader":"https://www.autotrader.com/toyota/corolla-hybrid/2025"},"link_usage":{"safety":["https://www.iihs.org/ratings/toyota/corolla-hybrid","https://www.nhtsa.gov/vehicle/2025/TOYOTA/COROLLA%20HYBRID"],"reliability_longevity":["https://www.kbb.com/toyota/corolla-hybrid/2025/","https://www.edmunds.com/toyota/corolla-hybrid/2025/"],"total_cost_to_own":["https://www.edmunds.com/toyota/corolla-hybrid/2025/","https://www.kbb.com/toyota/corolla-hybrid/2025/","https://www.autotrader.com/toyota/corolla-hybrid/2025"],"practicality":["https://www.caranddriver.com/toyota/corolla-hybrid-2025","https://www.edmunds.com/toyota/corolla-hybrid/2025/","https://cars.usnews.com/cars-trucks/toyota-corolla-hybrid/2025"],"comfort_refinement":["https://www.caranddriver.com/toyota/corolla-hybrid-2025","https://www.edmunds.com/toyota/corolla-hybrid/2025/"],"tech_convenience":["https://www.toyota.com/corolla-hybrid","https://www.edmunds.com/toyota/corolla-hybrid/2025/"],"performance_handling":["https://www.caranddriver.com/toyota/corolla-hybrid-2025","https://www.edmunds.com/toyota/corolla-hybrid/2025/"],"efficiency_range":["https://www.fueleconomy.gov/feg/bymodel/2025_Toyota_Corolla_Hybrid.shtml"],"warranty_support":["https://www.toyota.com/corolla-hybrid"],"resale_value":["https://www.kbb.com/toyota/corolla-hybrid/2025/","https://www.autotrader.com/toyota/corolla-hybrid/2025"],"style_vibe":["https://www.caranddriver.com/toyota/corolla-hybrid-2025","https://cars.usnews.com/cars-trucks/toyota-corolla-hybrid/2025"],"fit_for_climate_roads":["https://www.toyota.com/corolla-hybrid","https://www.caranddriver.com/toyota/corolla-hybrid-2025"]},"financing_75080":{"zip_code":"75080","area":"Richardson, TX","last_updated":"2025-11-09","dealerships":[{"name":"Toyota of Richardson","address":"1501 N Central Expy, Richardson, TX 75080","distance_miles":2.1,"phone":"(972) 234-5678","finance_options":{"purchase":{"price_after_incentives":22634,"down_payment":2383,"apr_tiers":{"tier_1_excellent":{"credit_score":"720+","apr":4.99,"term_months":60,"monthly_payment":382,"total_cost":25303,"total_interest":2669.25},"tier_2_good":{"credit_score":"680-719","apr":6.49,"term_months":60,"monthly_payment":396,"total_cost":26143,"total_interest":3509.25},"tier_3_fair":{"credit_score":"620-679","apr":9.99,"term_months":60,"monthly_payment":430,"total_cost":28183,"total_interest":5549.25}}},"lease":{"term_months":36,"monthly_payment":310,"due_at_signing":2999,"annual_mileage":12000,"excess_mileage_charge":0.2,"total_lease_cost":14159,"money_factor":0.0018,"residual_value":12866}}},{"name":"Trophy Toyota of Dallas","address":"13333 N Stemmons Fwy, Dallas, TX 75234","distance_miles":8.7,"phone":"(972) 243-9999","finance_options":{"purchase":{"price_after_incentives":22784,"down_payment":2383,"apr_tiers":{"tier_1_excellent":{"credit_score":"720+","apr":5.29,"term_months":60,"monthly_payment":388,"total_cost":25663,"total_interest":2879.25},"tier_2_good":{"credit_score":"680-719","apr":6.79,"term_months":60,"monthly_payment":402,"total_cost":26503,"total_interest":3719.25},"tier_3_fair":{"credit_score":"620-679","apr":10.29,"term_months":60,"monthly_payment":436,"total_cost":28543,"total_interest":5759.25}}},"lease":{"term_months":36,"monthly_payment":320,"due_at_signing":3249,"annual_mileage":12000,"excess_mileage_charge":0.2,"total_lease_cost":14769,"money_factor":0.0019,"residual_value":12866}}},{"name":"Vandergriff Toyota","address":"6201 Colleyville Blvd, Colleyville, TX 76034","distance_miles":15.3,"phone":"(817) 329-3200","finance_options":{"purchase":{"price_after_incentives":22934,"down_payment":2383,"apr_tiers":{"tier_1_excellent":{"credit_score":"720+","apr":5.59,"term_months":60,"monthly_payment":393,"total_cost":25963,"total_interest":3029.25},"tier_2_good":{"credit_score":"680-719","apr":7.09,"term_months":60,"monthly_payment":408,"total_cost":26863,"total_interest":3929.25},"tier_3_fair":{"credit_score":"620-679","apr":10.59,"term_months":60,"monthly_payment":443,"total_cost":28963,"total_interest":6029.25}}},"lease":{"term_months":36,"monthly_payment":330,"due_at_signing":3499,"annual_mileage":10000,"excess_mileage_charge":0.25,"total_lease_cost":15379,"money_factor":0.002,"residual_value":12866}}}],"yearly_cost_estimates":{"insurance_annual":1297,"registration_annual":198,"maintenance_annual":469,"fuel_annual_12k_miles":840,"total_annual_ownership":2804},"best_deal_summary":{"lowest_monthly_payment":{"dealership":"Toyota of Richardson","type":"lease","amount":310},"lowest_total_cost":{"dealership":"Toyota of Richardson","type":"purchase_tier_1","amount":25303},"best_apr":{"dealership":"Toyota of Richardson","rate":4.99}}}}];
        window.TOP_FACTORS = ["total_cost_to_own","mpg"];
        window.USER_SPEC = {"type":"Buffer","data":[73,32,87,65,78,78,65,32,66,85,89,32,65,32,67,65,82,32,84,72,65,84,32,73,83,32,67,79,83,84,32,69,70,70,73,67,73,69,78,84,32,65,78,68,32,82,69,76,73,65,66,76,69,46]};
    </script>
<script>
        // Data will be injected here
        const carsData = window.CARS_DATA || [];
        const topFactors = window.TOP_FACTORS || [];
        const userSpec = window.USER_SPEC || "";
        const aiAnalysisText = window.AI_ANALYSIS || "";
        
        let selectedCars = [];

        // Initialize the page
        function init() {
            document.getElementById('topFactors').textContent = topFactors.map(f => 
                f.replace(/_/g, ' ').toUpperCase()
            ).join(', ');
            
            document.getElementById('aiAnalysis').innerHTML = aiAnalysisText.replace(/\n/g, '<br>');
            
            renderCars();
        }

        function renderCars() {
            const grid = document.getElementById('carGrid');
            grid.innerHTML = '';
            
            carsData.forEach((car, index) => {
                const card = document.createElement('div');
                card.className = 'car-card';
                card.dataset.carIndex = index;
                card.onclick = (e) => selectCar(index, e);
                
                const imageUrl = `https://cdn.imagin.studio/getImage?customer=img&make=toyota&modelFamily=${car.model.toLowerCase().replace(/\s+/g, '-')}&zoomType=fullscreen&modelYear=${car.year}&angle=01&width=800&paintId=pspc0130`;
                
                // Always show MSRP
                let cardInfo = `<p><strong>MSRP:</strong> $${car.price_usd?.msrp_from?.toLocaleString() || 'N/A'}</p>`;
                
                // Build additional factor details based on what user requested
                topFactors.forEach(factor => {
                    let value = 'N/A';
                    let label = factor.replace(/_/g, ' ').replace(/\b\w/g, l => l.toUpperCase());
                    
                    // Map simplified factor names to JSON field names
                    const factorToJsonField = {
                        'reliability': 'reliability_longevity',
                        'comfort': 'comfort_refinement',
                        'style': 'style_vibe',
                        'all_weather_capability': 'fit_for_climate_roads'
                    };
                    
                    const jsonFieldName = factorToJsonField[factor] || factor;
                    
                    // Map factor to actual car data - checking ALL possible sources
                    if (factor === 'leg_room') {
                        const front = car.legroom_in?.front;
                        const rear = car.legroom_in?.rear;
                        if (front && rear) {
                            value = `Front: ${front}", Rear: ${rear}"`;
                        } else if (front) {
                            value = `Front: ${front}"`;
                        }
                    } else if (factor === 'horsepower') {
                        value = car.horsepower_hp ? `${car.horsepower_hp} HP` : 'N/A';
                        label = 'Horsepower';
                    } else if (factor === 'mpg') {
                        const city = car.mpg?.city;
                        const hwy = car.mpg?.hwy;
                        const combined = car.mpg?.combined;
                        if (city && hwy && combined) {
                            value = `City: ${city}, Highway: ${hwy}, Combined: ${combined}`;
                        } else if (combined) {
                            value = `${combined} combined`;
                        }
                        label = 'MPG';
                    } else if (factor === 'lease') {
                        const leasePrice = car.price_usd?.lease_per_month;
                        if (leasePrice) {
                            value = `$${leasePrice}/month`;
                        }
                        label = 'Lease';
                    } else if (car.buying_factors && car.buying_factors[jsonFieldName]) {
                        // This handles: safety, reliability_longevity, total_cost_to_own, 
                        // practicality, comfort_refinement, tech_convenience, performance_handling,
                        // warranty_support, resale_value, style_vibe, fit_for_climate_roads
                        value = car.buying_factors[jsonFieldName];
                    }
                    
                    if (value !== 'N/A') {
                        cardInfo += `<p><strong>${label}:</strong> ${value}</p>`;
                    }
                });
                
                card.innerHTML = `
                    <img src="${imageUrl}" 
                         alt="${car.year} Toyota ${car.model}"
                         onerror="this.onerror=null; this.src='https://www.cstatic-images.com/stock/1170x1170/47/image-1670616341547.jpg';">
                    <h2>${car.year} Toyota ${car.model}</h2>
                    ${cardInfo}
                    <div class="car-links">
                        <a href="${car.links?.manufacturer || '#'}" target="_blank" onclick="event.stopPropagation();">📍 View on Toyota.com →</a>
                        <a href="${car.links?.edmunds || '#'}" target="_blank" onclick="event.stopPropagation();">📊 Edmunds Review →</a>
                    </div>
                `;
                
                grid.appendChild(card);
            });
        }

        function selectCar(index, event) {
            const card = event.currentTarget;
            
            if (selectedCars.includes(index)) {
                selectedCars = selectedCars.filter(i => i !== index);
                card.classList.remove('selected');
                const badge = card.querySelector('.selection-badge');
                if (badge) badge.remove();
            } else if (selectedCars.length < 2) {
                selectedCars.push(index);
                card.classList.add('selected');
                const badge = document.createElement('div');
                badge.className = 'selection-badge';
                badge.textContent = selectedCars.length;
                card.appendChild(badge);
            }
            
            if (selectedCars.length === 2) {
                setTimeout(() => showComparison(), 400);
            }
        }

        function closeComparison() {
            document.getElementById('comparisonModal').classList.remove('active');
            document.querySelectorAll('.car-card').forEach(card => {
                card.classList.remove('selected');
                const badge = card.querySelector('.selection-badge');
                if (badge) badge.remove();
            });
            selectedCars = [];
        }

        function evaluateFactor(factorText, factorName) {
            if (!factorText || factorText === 'N/A') return 'neutral';
            
            const text = factorText.toLowerCase();
            
            const goodKeywords = ['excellent', 'great', 'strong', 'high', 'best', 'superior', 'top', 'proven', 
                                 'reliable', 'safe', 'efficient', 'advanced', 'exceptional', 'outstanding', 
                                 'comprehensive', 'generous', 'spacious', 'powerful'];
            const poorKeywords = ['poor', 'low', 'weak', 'limited', 'basic', 'minimal', 'lacking', 
                                 'insufficient', 'mediocre', 'subpar', 'cramped', 'tight'];
            
            const goodCount = goodKeywords.filter(word => text.includes(word)).length;
            const poorCount = poorKeywords.filter(word => text.includes(word)).length;
            
            if (goodCount > poorCount && goodCount > 0) return 'good';
            if (poorCount > goodCount && poorCount > 0) return 'poor';
            return 'neutral';
        }

        function showComparison() {
            const car1 = carsData[selectedCars[0]];
            const car2 = carsData[selectedCars[1]];
            
            let comparisonHTML = '<div class="comparison-grid">';
            
            // Car 1
            const img1 = `https://cdn.imagin.studio/getImage?customer=img&make=toyota&modelFamily=${car1.model.toLowerCase().replace(/\s+/g, '-')}&zoomType=fullscreen&modelYear=${car1.year}&angle=01&width=800&paintId=pspc0130`;
            
            // Build card info for car 1
            let card1Info = `<p><strong>MSRP:</strong> $${car1.price_usd?.msrp_from?.toLocaleString() || 'N/A'}</p>`;
            topFactors.forEach(factor => {
                let value = 'N/A';
                let label = factor.replace(/_/g, ' ').replace(/\b\w/g, l => l.toUpperCase());
                
                // Map simplified factor names to JSON field names
                const factorToJsonField = {
                    'reliability': 'reliability_longevity',
                    'comfort': 'comfort_refinement',
                    'style': 'style_vibe',
                    'all_weather_capability': 'fit_for_climate_roads'
                };
                
                const jsonFieldName = factorToJsonField[factor] || factor;
                
                if (factor === 'leg_room') {
                    const front = car1.legroom_in?.front;
                    const rear = car1.legroom_in?.rear;
                    if (front && rear) {
                        value = `Front: ${front}", Rear: ${rear}"`;
                    } else if (front) {
                        value = `Front: ${front}"`;
                    }
                } else if (factor === 'horsepower') {
                    value = car1.horsepower_hp ? `${car1.horsepower_hp} HP` : 'N/A';
                    label = 'Horsepower';
                } else if (factor === 'mpg') {
                    const city = car1.mpg?.city;
                    const hwy = car1.mpg?.hwy;
                    const combined = car1.mpg?.combined;
                    if (city && hwy && combined) {
                        value = `City: ${city}, Highway: ${hwy}, Combined: ${combined}`;
                    } else if (combined) {
                        value = `${combined} combined`;
                    }
                    label = 'MPG';
                } else if (factor === 'lease') {
                    const leasePrice = car1.price_usd?.lease_per_month;
                    if (leasePrice) {
                        value = `$${leasePrice}/month`;
                    }
                    label = 'Lease';
                } else if (car1.buying_factors && car1.buying_factors[jsonFieldName]) {
                    value = car1.buying_factors[jsonFieldName];
                }
                
                if (value !== 'N/A') {
                    card1Info += `<p><strong>${label}:</strong> ${value}</p>`;
                }
            });
            
            comparisonHTML += `
                <div class="comparison-car">
                    <img src="${img1}" 
                         alt="${car1.year} Toyota ${car1.model}"
                         onerror="this.onerror=null; this.src='https://www.cstatic-images.com/stock/1170x1170/47/image-1670616341547.jpg';">
                    <h2>${car1.year} Toyota ${car1.model}</h2>
                    ${card1Info}
                </div>
            `;
            
            // Car 2
            const img2 = `https://cdn.imagin.studio/getImage?customer=img&make=toyota&modelFamily=${car2.model.toLowerCase().replace(/\s+/g, '-')}&zoomType=fullscreen&modelYear=${car2.year}&angle=01&width=800&paintId=pspc0130`;
            
            // Build card info for car 2
            let card2Info = `<p><strong>MSRP:</strong> $${car2.price_usd?.msrp_from?.toLocaleString() || 'N/A'}</p>`;
            topFactors.forEach(factor => {
                let value = 'N/A';
                let label = factor.replace(/_/g, ' ').replace(/\b\w/g, l => l.toUpperCase());
                
                // Map simplified factor names to JSON field names
                const factorToJsonField = {
                    'reliability': 'reliability_longevity',
                    'comfort': 'comfort_refinement',
                    'style': 'style_vibe',
                    'all_weather_capability': 'fit_for_climate_roads'
                };
                
                const jsonFieldName = factorToJsonField[factor] || factor;
                
                if (factor === 'leg_room') {
                    const front = car2.legroom_in?.front;
                    const rear = car2.legroom_in?.rear;
                    if (front && rear) {
                        value = `Front: ${front}", Rear: ${rear}"`;
                    } else if (front) {
                        value = `Front: ${front}"`;
                    }
                } else if (factor === 'horsepower') {
                    value = car2.horsepower_hp ? `${car2.horsepower_hp} HP` : 'N/A';
                    label = 'Horsepower';
                } else if (factor === 'mpg') {
                    const city = car2.mpg?.city;
                    const hwy = car2.mpg?.hwy;
                    const combined = car2.mpg?.combined;
                    if (city && hwy && combined) {
                        value = `City: ${city}, Highway: ${hwy}, Combined: ${combined}`;
                    } else if (combined) {
                        value = `${combined} combined`;
                    }
                    label = 'MPG';
                } else if (factor === 'lease') {
                    const leasePrice = car2.price_usd?.lease_per_month;
                    if (leasePrice) {
                        value = `$${leasePrice}/month`;
                    }
                    label = 'Lease';
                } else if (car2.buying_factors && car2.buying_factors[jsonFieldName]) {
                    value = car2.buying_factors[jsonFieldName];
                }
                
                if (value !== 'N/A') {
                    card2Info += `<p><strong>${label}:</strong> ${value}</p>`;
                }
            });
            
            comparisonHTML += `
                <div class="comparison-car">
                    <img src="${img2}" 
                         alt="${car2.year} Toyota ${car2.model}"
                         onerror="this.onerror=null; this.src='https://www.cstatic-images.com/stock/1170x1170/47/image-1670616341547.jpg';">
                    <h2>${car2.year} Toyota ${car2.model}</h2>
                    ${card2Info}
                </div>
            `;
            
            // Legend
            comparisonHTML += `
                <div class="legend">
                    <div class="legend-item">
                        <div class="legend-color good"></div>
                        <span><strong>Green:</strong> Strongly matches your requirements</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color neutral"></div>
                        <span><strong>Gray:</strong> Average or similar between cars</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color poor"></div>
                        <span><strong>Red:</strong> Does not match well</span>
                    </div>
                </div>
            `;
            
            // Title for specified factors
            comparisonHTML += '<div class="factors-section-title">📋 Comparison Based on Your Specifications</div>';
            
            // Compare top 3 factors with intelligent comparison
            topFactors.forEach(factor => {
                let val1 = 'N/A';
                let val2 = 'N/A';
                
                // Map simplified factor names to JSON field names
                const factorToJsonField = {
                    'reliability': 'reliability_longevity',
                    'comfort': 'comfort_refinement',
                    'style': 'style_vibe',
                    'all_weather_capability': 'fit_for_climate_roads'
                };
                
                const jsonFieldName = factorToJsonField[factor] || factor;
                
                // Get values based on factor type
                if (factor === 'leg_room') {
                    const front1 = car1.legroom_in?.front;
                    const rear1 = car1.legroom_in?.rear;
                    const front2 = car2.legroom_in?.front;
                    const rear2 = car2.legroom_in?.rear;
                    
                    if (front1 && rear1) {
                        val1 = `Front: ${front1}", Rear: ${rear1}"`;
                    } else if (front1) {
                        val1 = `Front: ${front1}"`;
                    }
                    
                    if (front2 && rear2) {
                        val2 = `Front: ${front2}", Rear: ${rear2}"`;
                    } else if (front2) {
                        val2 = `Front: ${front2}"`;
                    }
                } else if (factor === 'horsepower') {
                    val1 = car1.horsepower_hp ? `${car1.horsepower_hp} HP` : 'N/A';
                    val2 = car2.horsepower_hp ? `${car2.horsepower_hp} HP` : 'N/A';
                } else if (factor === 'mpg') {
                    const city1 = car1.mpg?.city;
                    const hwy1 = car1.mpg?.hwy;
                    const combined1 = car1.mpg?.combined;
                    const city2 = car2.mpg?.city;
                    const hwy2 = car2.mpg?.hwy;
                    const combined2 = car2.mpg?.combined;
                    
                    if (city1 && hwy1 && combined1) {
                        val1 = `City: ${city1}, Highway: ${hwy1}, Combined: ${combined1}`;
                    } else if (combined1) {
                        val1 = `${combined1} combined`;
                    }
                    
                    if (city2 && hwy2 && combined2) {
                        val2 = `City: ${city2}, Highway: ${hwy2}, Combined: ${combined2}`;
                    } else if (combined2) {
                        val2 = `${combined2} combined`;
                    }
                } else if (factor === 'lease') {
                    const lease1 = car1.price_usd?.lease_per_month;
                    const lease2 = car2.price_usd?.lease_per_month;
                    
                    if (lease1) {
                        val1 = `$${lease1}/month`;
                    }
                    
                    if (lease2) {
                        val2 = `$${lease2}/month`;
                    }
                } else if (car1.buying_factors && car1.buying_factors[jsonFieldName]) {
                    // All buying_factors: safety, reliability_longevity, total_cost_to_own, etc.
                    val1 = car1.buying_factors[jsonFieldName] || 'N/A';
                    val2 = car2.buying_factors[jsonFieldName] || 'N/A';
                }
                
                // Check if the values are identical or very similar
                const areSimilar = val1 === val2 || 
                                   (val1 !== 'N/A' && val2 !== 'N/A' && val1.toLowerCase().trim() === val2.toLowerCase().trim());
                
                // Create unique comparison text
                const comparison1 = generateComparisonText(car1, car2, factor, val1, val2, true);
                const comparison2 = generateComparisonText(car2, car1, factor, val2, val1, false);
                
                // Smart rating based on numeric comparison for numeric factors
                let rating1 = 'neutral';
                let rating2 = 'neutral';
                
                if (factor === 'horsepower') {
                    // Extract numeric values
                    const hp1 = car1.horsepower_hp;
                    const hp2 = car2.horsepower_hp;
                    
                    if (hp1 && hp2) {
                        const diff = Math.abs(hp1 - hp2);
                        // Only color if difference is significant (more than 20 HP)
                        if (diff > 20) {
                            rating1 = hp1 > hp2 ? 'good' : 'poor';
                            rating2 = hp2 > hp1 ? 'good' : 'poor';
                        }
                    }
                } else if (factor === 'mpg') {
                    // Extract combined MPG for comparison
                    const mpg1 = car1.mpg?.combined;
                    const mpg2 = car2.mpg?.combined;
                    
                    if (mpg1 && mpg2) {
                        const diff = Math.abs(mpg1 - mpg2);
                        // Only color if difference is significant (more than 3 MPG)
                        if (diff > 3) {
                            rating1 = mpg1 > mpg2 ? 'good' : 'poor';
                            rating2 = mpg2 > mpg1 ? 'good' : 'poor';
                        }
                    }
                } else if (factor === 'leg_room') {
                    // Extract front leg room for comparison
                    const leg1 = car1.legroom_in?.front;
                    const leg2 = car2.legroom_in?.front;
                    
                    if (leg1 && leg2) {
                        const diff = Math.abs(leg1 - leg2);
                        // Only color if difference is significant (more than 1 inch)
                        if (diff > 1) {
                            rating1 = leg1 > leg2 ? 'good' : 'poor';
                            rating2 = leg2 > leg1 ? 'good' : 'poor';
                        }
                    }
                } else if (factor === 'total_cost_to_own') {
                    // Extract MSRP for cost comparison
                    const price1 = car1.price_usd?.msrp_from;
                    const price2 = car2.price_usd?.msrp_from;
                    
                    if (price1 && price2) {
                        const diff = Math.abs(price1 - price2);
                        // Only color if difference is significant (more than $2000)
                        if (diff > 2000) {
                            // Lower price is better (good), higher price is worse (poor)
                            rating1 = price1 < price2 ? 'good' : 'poor';
                            rating2 = price2 < price1 ? 'good' : 'poor';
                        }
                    }
                } else if (factor === 'lease') {
                    // Extract lease price for comparison
                    const lease1 = car1.price_usd?.lease_per_month;
                    const lease2 = car2.price_usd?.lease_per_month;
                    
                    if (lease1 && lease2) {
                        const diff = Math.abs(lease1 - lease2);
                        // Only color if difference is significant (more than $30/month)
                        if (diff > 30) {
                            // Lower lease payment is better (good), higher is worse (poor)
                            rating1 = lease1 < lease2 ? 'good' : 'poor';
                            rating2 = lease2 < lease1 ? 'good' : 'poor';
                        }
                    }
                } else {
                    // For text factors, use the existing evaluation
                    rating1 = areSimilar ? 'neutral' : evaluateFactor(val1, factor);
                    rating2 = areSimilar ? 'neutral' : evaluateFactor(val2, factor);
                }
                
                // Format factor label properly
                const factorLabel = factor.replace(/_/g, ' ').replace(/\b\w/g, l => l.toUpperCase());
                
                comparisonHTML += `
                    <div class="factor-row ${rating1}">
                        <div class="factor-label">${factorLabel}</div>
                        <div class="factor-value">${comparison1}</div>
                    </div>
                    <div class="factor-row ${rating2}">
                        <div class="factor-label">${factorLabel}</div>
                        <div class="factor-value">${comparison2}</div>
                    </div>
                `;
            });
            
            // Add Financing Information Section
            if (car1.financing_75080 && car2.financing_75080) {
                comparisonHTML += `
                    <div class="financing-section" style="opacity: 0;">
                        <div class="financing-title">💰 Financing Options Near You (75080)</div>
                        <div class="financing-subtitle">Compare pricing from 3 Toyota dealerships in the Richardson, TX area</div>
                        
                        <div class="financing-grid">
                            <!-- Car 1 Financing -->
                            <div class="financing-car">
                                <h3>${car1.year} ${car1.model}</h3>
                                ${generateFinancingHTML(car1.financing_75080)}
                            </div>
                            
                            <!-- Car 2 Financing -->
                            <div class="financing-car">
                                <h3>${car2.year} ${car2.model}</h3>
                                ${generateFinancingHTML(car2.financing_75080)}
                            </div>
                        </div>
                    </div>
                `;
            }
            
            comparisonHTML += '</div>';
            
            document.getElementById('comparisonGrid').innerHTML = comparisonHTML;
            document.getElementById('comparisonModal').classList.add('active');
            
            // Fade in financing section after a delay
            setTimeout(() => {
                const financingSection = document.querySelector('.financing-section');
                if (financingSection) {
                    financingSection.style.transition = 'opacity 1.5s ease-in';
                    financingSection.style.opacity = '1';
                }
            }, 500);
        }
        
        function generateFinancingHTML(financing) {
            let html = '';
            
            // Best Deal Summary
            html += `
                <div class="best-deal-box">
                    <div class="best-deal-title">🏆 Best Deals</div>
                    <div class="best-deal-item">
                        <strong>Lowest Monthly:</strong> $${financing.best_deal_summary.lowest_monthly_payment.amount}/mo 
                        <span class="dealer-name">(${financing.best_deal_summary.lowest_monthly_payment.dealership})</span>
                    </div>
                    <div class="best-deal-item">
                        <strong>Best APR:</strong> ${financing.best_deal_summary.best_apr.rate}%
                        <span class="dealer-name">(${financing.best_deal_summary.best_apr.dealership})</span>
                    </div>
                    <div class="best-deal-item">
                        <strong>Lowest Total:</strong> $${financing.best_deal_summary.lowest_total_cost.amount.toLocaleString()}
                        <span class="dealer-name">(${financing.best_deal_summary.lowest_total_cost.dealership})</span>
                    </div>
                </div>
            `;
            
            // Dealership Details
            financing.dealerships.forEach((dealer, idx) => {
                html += `
                    <div class="dealer-card">
                        <div class="dealer-header">
                            <div class="dealer-name-main">${dealer.name}</div>
                            <div class="dealer-distance">${dealer.distance_miles} mi away</div>
                        </div>
                        <div class="dealer-address">${dealer.address}</div>
                        <div class="dealer-phone">📞 ${dealer.phone}</div>
                        
                        <div class="finance-tabs">
                            <div class="finance-tab">
                                <div class="tab-title">Purchase Financing</div>
                                <div class="credit-tier">
                                    <strong>Excellent Credit (720+):</strong>
                                    <div class="tier-details">
                                        ${dealer.finance_options.purchase.apr_tiers.tier_1_excellent.apr}% APR • 
                                        $${dealer.finance_options.purchase.apr_tiers.tier_1_excellent.monthly_payment}/mo • 
                                        60 months
                                    </div>
                                </div>
                                <div class="credit-tier">
                                    <strong>Good Credit (680-719):</strong>
                                    <div class="tier-details">
                                        ${dealer.finance_options.purchase.apr_tiers.tier_2_good.apr}% APR • 
                                        $${dealer.finance_options.purchase.apr_tiers.tier_2_good.monthly_payment}/mo • 
                                        60 months
                                    </div>
                                </div>
                                <div class="price-note">
                                    Price: $${dealer.finance_options.purchase.price_after_incentives.toLocaleString()} 
                                    (Down: $${dealer.finance_options.purchase.down_payment.toLocaleString()})
                                </div>
                            </div>
                            
                            <div class="finance-tab lease-tab">
                                <div class="tab-title">Lease Option</div>
                                <div class="lease-highlight">
                                    $${dealer.finance_options.lease.monthly_payment}/mo
                                </div>
                                <div class="lease-details">
                                    ${dealer.finance_options.lease.term_months} months • 
                                    ${dealer.finance_options.lease.annual_mileage.toLocaleString()} mi/year<br>
                                    Due at signing: $${dealer.finance_options.lease.due_at_signing.toLocaleString()}
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            });
            
            // Annual Ownership Costs
            html += `
                <div class="ownership-costs">
                    <div class="costs-title">📊 Estimated Annual Costs</div>
                    <div class="cost-grid">
                        <div class="cost-item">
                            <span>Insurance:</span>
                            <strong>$${financing.yearly_cost_estimates.insurance_annual.toLocaleString()}</strong>
                        </div>
                        <div class="cost-item">
                            <span>Registration:</span>
                            <strong>$${financing.yearly_cost_estimates.registration_annual.toLocaleString()}</strong>
                        </div>
                        <div class="cost-item">
                            <span>Maintenance:</span>
                            <strong>$${financing.yearly_cost_estimates.maintenance_annual.toLocaleString()}</strong>
                        </div>
                        <div class="cost-item">
                            <span>Fuel (12K mi):</span>
                            <strong>$${financing.yearly_cost_estimates.fuel_annual_12k_miles.toLocaleString()}</strong>
                        </div>
                        <div class="cost-item total-cost">
                            <span>Total Annual:</span>
                            <strong>$${financing.yearly_cost_estimates.total_annual_ownership.toLocaleString()}</strong>
                        </div>
                    </div>
                </div>
            `;
            
            return html;
        }
        
        function generateComparisonText(car1, car2, factor, val1, val2, isFirst) {
            if (val1 === 'N/A') return 'N/A';
            
            // Extract specific data points for intelligent comparison
            const year1 = car1.year;
            const year2 = car2.year;
            const model1 = car1.model;
            const model2 = car2.model;
            const price1 = car1.price_usd?.msrp_from;
            const price2 = car2.price_usd?.msrp_from;
            const mpg1 = car1.mpg?.combined;
            const mpg2 = car2.mpg?.combined;
            
            // Check if values are essentially the same
            const areSimilar = val1.toLowerCase().trim() === val2.toLowerCase().trim();
            
            // Create contextual, unique comparison for each car
            let comparison = '';
            
            if (factor === 'efficiency_range') {
                if (mpg1 && mpg2) {
                    const diff = mpg1 - mpg2;
                    if (areSimilar || Math.abs(diff) <= 3) {
                        // Similar MPG - make unique for each car
                        comparison = `The ${year1} ${model1} delivers ${mpg1} MPG combined`;
                        if (val1.toLowerCase().includes('excellent')) {
                            comparison += ', offering excellent fuel economy';
                        } else if (val1.toLowerCase().includes('competitive')) {
                            comparison += ', providing competitive efficiency';
                        }
                        comparison += ` for its class.`;
                    } else if (diff > 0) {
                        comparison = `The ${year1} ${model1} achieves ${mpg1} MPG combined, ${diff} MPG better than the ${model2}, giving it a notable fuel economy advantage.`;
                    } else {
                        comparison = `The ${year1} ${model1} gets ${mpg1} MPG combined, which is ${Math.abs(diff)} MPG less efficient than the ${model2}.`;
                    }
                }
            } else if (factor === 'total_cost_to_own') {
                if (price1 && price2) {
                    const diff = price1 - price2;
                    const monthlyLease1 = car1.price_usd?.lease_per_month;
                    const monthlyLease2 = car2.price_usd?.lease_per_month;
                    
                    if (areSimilar || Math.abs(diff) <= 2500) {
                        // Similar cost - make unique for each car
                        comparison = `The ${year1} ${model1} starts at $${price1.toLocaleString()} (approx. $${monthlyLease1}/mo lease). `;
                        if (val1.toLowerCase().includes('low fuel')) {
                            comparison += `Low fuel and maintenance costs help keep total ownership expenses manageable.`;
                        } else if (val1.toLowerCase().includes('outstanding fuel savings')) {
                            comparison += `Outstanding fuel savings significantly reduce long-term operating costs.`;
                        } else {
                            comparison += `Reasonable insurance and strong residuals contribute to solid value retention.`;
                        }
                    } else if (diff < 0) {
                        comparison = `The ${year1} ${model1} starts at $${price1.toLocaleString()}, which is $${Math.abs(diff).toLocaleString()} less than the ${model2}, making it the more affordable option with lower entry cost.`;
                    } else {
                        comparison = `The ${year1} ${model1} is priced at $${price1.toLocaleString()}, $${diff.toLocaleString()} more than the ${model2}, positioning it as a premium choice in the lineup.`;
                    }
                }
            } else if (factor === 'safety') {
                const hasTSS = val1.toLowerCase().includes('tss');
                const version1 = val1.match(/tss[- ]?p|tss[- ]?2\.0|tss[- ]?c/i)?.[0] || 'TSS';
                
                if (areSimilar) {
                    // Same safety features - make unique descriptions
                    comparison = `The ${year1} ${model1} `;
                    if (hasTSS) {
                        if (val1.includes('standard')) {
                            comparison += `comes standard with Toyota Safety Sense (${version1})`;
                        } else {
                            comparison += `features ${version1}`;
                        }
                        comparison += `, providing comprehensive driver assistance including AEB, LKA, and BSM for enhanced protection.`;
                    } else {
                        comparison += `includes basic safety features with available advanced options on higher trims.`;
                    }
                } else if (year1 > year2) {
                    comparison = `The ${year1} ${model1} benefits from updated safety technology. ${val1}`;
                } else {
                    comparison = `The ${year1} ${model1}: ${val1}`;
                }
            } else if (factor === 'reliability_longevity') {
                const isHybrid1 = car1.variant?.toLowerCase().includes('hybrid') || model1.toLowerCase().includes('hybrid');
                const isHybrid2 = car2.variant?.toLowerCase().includes('hybrid') || model2.toLowerCase().includes('hybrid');
                
                if (areSimilar) {
                    // Same reliability - make unique
                    if (isHybrid1) {
                        comparison = `The ${year1} ${model1} features Toyota's proven hybrid powertrain with a strong track record for durability and minimal maintenance requirements over time.`;
                    } else {
                        comparison = `The ${year1} ${model1} utilizes Toyota's reliable gas powertrain, known for simple upkeep and extended service life with proper maintenance.`;
                    }
                } else {
                    comparison = `${model1} (${year1}): ${val1}`;
                }
            } else if (factor === 'practicality') {
                const legroom1 = car1.legroom_in?.rear;
                const legroom2 = car2.legroom_in?.rear;
                
                if (areSimilar && legroom1 && legroom2) {
                    const diff = Math.abs(legroom1 - legroom2);
                    if (diff <= 2) {
                        comparison = `The ${year1} ${model1} provides ${legroom1}" of rear legroom`;
                        if (val1.toLowerCase().includes('roomy')) {
                            comparison += ', offering spacious seating for passengers';
                        } else if (val1.toLowerCase().includes('flexible')) {
                            comparison += ', along with flexible cargo space';
                        } else {
                            comparison += ', suitable for daily use';
                        }
                        comparison += '.';
                    } else if (legroom1 > legroom2) {
                        comparison = `The ${year1} ${model1} offers ${legroom1}" rear legroom, ${diff.toFixed(1)}" more spacious than the ${model2}.`;
                    } else {
                        comparison = `The ${year1} ${model1} has ${legroom1}" rear legroom, ${diff.toFixed(1)}" less than the ${model2}'s interior space.`;
                    }
                } else {
                    comparison = `${model1} (${year1}): ${val1}`;
                }
            } else {
                // Default: Add context about the specific car
                comparison = `${model1} (${year1}): ${val1}`;
            }
            
            return comparison;
        }
        

        // Initialize on load
        window.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
